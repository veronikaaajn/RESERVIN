<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#63b9f3">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Reservin">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Description -->
    <meta name="description" content="Platform reservasi restoran dan cafe terpercaya di Solo. Booking meja favoritmu dengan mudah, cepat, dan praktis.">
    <meta name="keywords" content="reservasi, restoran, cafe, solo, booking, makan, kuliner">
    <meta name="author" content="Reservin Team">
    
    <title>Reservin - Reservasi Restoran & Cafe Solo</title>
    
    <!-- Favicon -->
    <link rel="icon" href="logo/logo5.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json"/>
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="logo/logo6.png">
    <link rel="apple-touch-icon" sizes="152x152" href="logo/logo6.png">
    <link rel="apple-touch-icon" sizes="180x180" href="logo/logo6.png">
    <link rel="apple-touch-icon" sizes="167x167" href="logo/logo6.png">
    
    <!-- Android Chrome -->
    <link rel="icon" sizes="192x192" href="logo/logo6.png">
    <link rel="icon" sizes="512x512" href="logo/logo5.png">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <!-- Google Fonts - Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #026c63;
            --secondary: #000000;
            --success: #ffe552;
            --danger: #ED3F27;
            --warning: #FFFDD0;
            --light: #fffdc1;
            --dark: #000000;
            --text-light: #000000;
            --text-dark: #ffffff;
            --bg-light: #f8f9fa;
            --bg-dark: #1a1a1a;
            --card-light: #ffffff;
            --card-dark: #000000;
        }
        
        * {
            font-family: 'Poppins', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body {
            padding-top: 70px;
            padding-bottom: 70px;
            min-height: 100vh;
            background-color: var(--bg-light);
        }

        @media (max-width: 576px) {
            body {
                padding-top: 60px;
                padding-bottom: 60px;
            }
        }
        
        body.dark-mode {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }
        
        body.dark-mode .card {
            background-color: var(--card-dark);
            color: var(--text-dark);
            border-color: #444;
        }
        
        .navbar {
            background-color: var(--primary) !important;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* Top Navbar */
        .top-navbar {
            height: 60px;
            padding: 0 8px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }
        
        .top-navbar .navbar-brand {
            margin: 0;
            padding: 0;
        }
        
        .top-navbar .logo-img {
            height: 70px;
            width: auto;
        }
        
        .top-navbar .dark-mode-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            padding: 8px;
        }
        
        /* Bottom Navigation */
        .bottom-navbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            border-top: 1px solid #e0e0e0;
            z-index: 1000;
            height: 60px;
            display: flex;
            align-items: center;
        }
        
        body.dark-mode .bottom-navbar {
            background-color: var(--card-dark);
            border-top-color: #444;
        }
        
        .bottom-navbar .nav-item {
            flex: 1;
            text-align: center;
        }
        
        .bottom-navbar .nav-link {
            color: #666;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 0;
            font-size: 0.75rem;
        }
        
        body.dark-mode .bottom-navbar .nav-link {
            color: #aaa;
        }
        
        .bottom-navbar .nav-link.active {
            color: var(--primary);
        }
        
        body.dark-mode .bottom-navbar .nav-link.active {
            color: var(--primary);
        }
        
        .bottom-navbar .nav-link i {
            font-size: 1.2rem;
            margin-bottom: 2px;
        }
        
        /* Page Container */
        .page-container {
            padding: 15px;
        }
        
        /* Page Styles */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* Welcome Page */
        .welcome-page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #000000 0%, #3bb7ac 100%);
            color: white;
        }
        
        .welcome-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 30px;
            text-align: center;
        }
        
        .welcome-logo {
            max-width: 150px;
            margin-bottom: 30px;
        }
        
        .welcome-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .welcome-description {
            font-size: 1rem;
            margin-bottom: 30px;
            line-height: 1.6;
            opacity: 0.9;
            max-width: 500px;
        }
        
        .welcome-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 80px;
            width: 100%;
            max-width: 800px;
        }

        .welcome-feature {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
        }

        .welcome-feature:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .welcome-feature i {
            font-size: 1.8rem;
            color: var(--success);
            margin-bottom: 10px;
            display: block;
        }

        .welcome-feature span {
            font-size: 0.85rem;
            text-align: center;
            display: block;
            line-height: 1.4;
        }
        
        .btn-start {
            background: white;
            color: var(--primary);
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        
        .btn-start:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 25px rgba(0,0,0,0.3);
        }
        
        /* Home Page Styles */
        /* Carousel Styles */
        .promo-carousel {
            margin-bottom: 60px;
        }
        
        .carousel-item img {
            height: 250px;
            object-fit: cover;
            border-radius: 15px;
        }
        
        .carousel-caption {
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            bottom: 0;
            left: 0;
            right: 0;
            padding: 35px;
            border-radius: 0 0 15px 15px;
        }
        
        .carousel-caption h5 {
            font-size: 1rem;
            margin: 0;
            font-weight: 600;
        }
        
        .carousel-promo-text {
            font-size: 0.8rem;
            color: var(--warning);
            margin: 5px 0;
        }
        
        /* Section Title */
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        body.dark-mode .section-title {
            color: var(--text-dark);
        }
        
        .section-see-all {
            font-size: 0.8rem;
            color: var(--primary);
            text-decoration: none;
        }
        
        /* Horizontal Scroll Section */
        .horizontal-scroll {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 5px 0 15px 0;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .horizontal-scroll::-webkit-scrollbar {
            display: none;
        }
        
        /* Place Card */
        .place-card {
            min-width: 150px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }
        
        body.dark-mode .place-card {
            background: var(--card-dark);
        }
        
        .place-card:hover {
            transform: translateY(-5px);
        }
        
        .place-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .place-card-content {
            padding: 10px;
        }
        
        .place-card-title {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--secondary);
        }
        
        body.dark-mode .place-card-title {
            color: var(--text-dark);
        }
        
        .place-card-rating {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        body.dark-mode .place-card-rating {
            color: #aaa;
        }
        
        .place-card-rating i {
            color: var(--warning);
            margin-right: 3px;
        }
        
        .place-card-location {
            font-size: 0.75rem;
            color: #666;
            display: flex;
            align-items: center;
        }
        
        body.dark-mode .place-card-location {
            color: #aaa;
        }
        
        .place-card-location i {
            margin-right: 5px;
            font-size: 0.8rem;
        }
        
        .place-card-button {
            margin-top: 8px;
        }
        
        /* Favorite Badge */
        .favorite-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--danger);
            font-size: 0.9rem;
        }
        
        /* Last Viewed Card */
        .last-viewed-card {
            background: white;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        body.dark-mode .last-viewed-card {
            background: var(--card-dark);
        }
        
        .last-viewed-img {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
        }
        
        .last-viewed-label {
            font-size: 0.7rem;
            color: #666;
            margin-bottom: 3px;
        }
        
        body.dark-mode .last-viewed-label {
            color: #aaa;
        }
        
        /* Explore Page */
        .search-bar-sticky {
            position: sticky;
            top: 60px;
            z-index: 99;
            background: white;
            padding: 10px 0;
        }
        
        body.dark-mode .search-bar-sticky {
            background: var(--bg-dark);
        }
        
        .search-input-container {
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border-radius: 25px;
            border: 1px solid #ddd;
            background: #f8f9fa;
            font-size: 0.9rem;
        }
        
        body.dark-mode .search-input {
            background: #333;
            border-color: #555;
            color: white;
        }
        
        .search-icon-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Quick Categories */
        .quick-categories {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0 15px 0;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .quick-categories::-webkit-scrollbar {
            display: none;
        }
        
        .category-btn {
            background: white;
            border: 1px solid #ddd;
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 0.8rem;
            color: #666;
            white-space: nowrap;
        }
        
        body.dark-mode .category-btn {
            background: #333;
            border-color: #555;
            color: #aaa;
        }
        
        .category-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Explore Grid Layout */
        .explore-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        @media (max-width: 576px) {
            .explore-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Grid Place Card */
        .grid-place-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        body.dark-mode .grid-place-card {
            background: var(--card-dark);
        }
        
        .grid-place-card:hover {
            transform: translateY(-3px);
        }
        
        .grid-place-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        
        .grid-place-card-content {
            padding: 8px;
        }
        
        .grid-place-card-title {
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 3px;
            color: var(--secondary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        body.dark-mode .grid-place-card-title {
            color: var(--text-dark);
        }
        
        .grid-place-card-rating {
            font-size: 0.7rem;
            color: #666;
            display: flex;
            align-items: center;
            margin-bottom: 3px;
        }
        
        body.dark-mode .grid-place-card-rating {
            color: #aaa;
        }
        
        .grid-place-card-rating i {
            color: var(--warning);
            margin-right: 3px;
            font-size: 0.8rem;
        }
        
        .grid-place-card-location {
            font-size: 0.65rem;
            color: #666;
            display: flex;
            align-items: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        body.dark-mode .grid-place-card-location {
            color: #aaa;
        }
        
        .grid-place-card-location i {
            margin-right: 3px;
            font-size: 0.7rem;
        }
        
        .grid-place-card-button {
            margin-top: 5px;
        }
        
        /* Place List Card */
        .place-list-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .place-list-card {
            background: var(--card-dark);
        }
        
        .place-list-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        
        .place-list-content {
            padding: 15px;
        }
        
        .place-list-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .place-list-title {
            font-size: 1rem;
            font-weight: 600;
            margin: 0;
            color: var(--secondary);
        }
        
        body.dark-mode .place-list-title {
            color: var(--text-dark);
        }
        
        .place-list-rating {
            display: flex;
            align-items: center;
            font-size: 0.8rem;
            color: #666;
        }
        
        body.dark-mode .place-list-rating {
            color: #aaa;
        }
        
        .place-list-rating i {
            color: var(--warning);
            margin-right: 3px;
        }
        
        .place-list-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .place-list-location {
            font-size: 0.8rem;
            color: #666;
        }
        
        body.dark-mode .place-list-location {
            color: #aaa;
        }
        
        .place-list-location i {
            margin-right: 5px;
        }
        
        .place-list-status {
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 12px;
            font-weight: 500;
        }
        
        .status-open {
            background: #d4edda;
            color: #155724;
        }
        
        .status-closed {
            background: #f8d7da;
            color: #721c24;
        }
        
        .place-list-footer {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-top: 10px;
        }
        
        /* Bookings Page */
        .booking-tabs {
            display: flex;
            background: white;
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .booking-tabs {
            background: var(--card-dark);
        }
        
        .booking-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            border: none;
            background: none;
            color: #666;
            font-size: 0.85rem;
            font-weight: 500;
            border-radius: 8px;
        }
        
        body.dark-mode .booking-tab {
            color: #aaa;
        }
        
        .booking-tab.active {
            background: var(--primary);
            color: white;
        }
        
        .booking-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary);
        }
        
        body.dark-mode .booking-card {
            background: var(--card-dark);
        }
        
        .booking-card.confirmed {
            border-left-color: #28a745;
        }
        
        .booking-card.pending {
            border-left-color: #ffc107;
        }
        
        .booking-card.cancelled {
            border-left-color: #dc3545;
        }
        
        .booking-card.completed {
            border-left-color: #6c757d;
        }
        
        .booking-card-header {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
        }
        
        .booking-card-img {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
        }
        
        .booking-card-info {
            flex: 1;
        }
        
        .booking-card-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--secondary);
        }
        
        body.dark-mode .booking-card-title {
            color: var(--text-dark);
        }
        
        .booking-card-date {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        body.dark-mode .booking-card-date {
            color: #aaa;
        }
        
        .booking-card-people {
            font-size: 0.85rem;
            color: #666;
        }
        
        body.dark-mode .booking-card-people {
            color: #aaa;
        }
        
        .booking-card-status {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .status-confirmed {
            background: #d4edda;
            color: #155724;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-cancelled {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-completed {
            background: #e2e3e5;
            color: #383d41;
        }
        
        .booking-card-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .booking-card-actions .btn {
            flex: 1;
            padding: 8px 12px;
            font-size: 0.8rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
        }
        
        .empty-state-icon {
            font-size: 3rem;
            color: #ddd;
            margin-bottom: 15px;
        }
        
        .empty-state-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        body.dark-mode .empty-state-title {
            color: var(--text-dark);
        }
        
        .empty-state-description {
            color: #666;
            margin-bottom: 20px;
        }
        
        body.dark-mode .empty-state-description {
            color: #aaa;
        }
        
        /* QR Code Modal */
        .qr-code-container {
            text-align: center;
            padding: 20px;
        }
        
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
        }
        
        .booking-code {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        /* Profile Page */
        .profile-header {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .profile-header {
            background: var(--card-dark);
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid var(--primary);
        }
        
        .profile-name {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--secondary);
        }
        
        body.dark-mode .profile-name {
            color: var(--text-dark);
        }
        
        .profile-email {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        body.dark-mode .profile-email {
            color: #aaa;
        }
        
        .profile-phone {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        body.dark-mode .profile-phone {
            color: #aaa;
        }
        
        .profile-menu {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .profile-menu {
            background: var(--card-dark);
        }
        
        .profile-menu-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            text-decoration: none;
            color: var(--secondary);
            cursor: pointer;
        }
        
        body.dark-mode .profile-menu-item {
            border-bottom-color: #444;
            color: var(--text-dark);
        }
        
        .profile-menu-item:last-child {
            border-bottom: none;
        }
        
        .profile-menu-icon {
            width: 40px;
            text-align: center;
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        .profile-menu-text {
            flex: 1;
        }
        
        .profile-menu-title {
            font-size: 0.95rem;
            font-weight: 500;
            margin-bottom: 3px;
        }
        
        .profile-menu-subtitle {
            font-size: 0.8rem;
            color: #666;
        }
        
        body.dark-mode .profile-menu-subtitle {
            color: #aaa;
        }
        
        .profile-menu-arrow {
            color: #999;
        }
        
        .logout-btn {
            width: 100%;
            padding: 15px;
            background: white;
            border: 1px solid #dc3545;
            color: #dc3545;
            border-radius: 12px;
            font-weight: 500;
            margin-top: 20px;
        }
        
        body.dark-mode .logout-btn {
            background: var(--card-dark);
            color: #dc3545;
            border-color: #dc3545;
        }
        
        /* Settings Item */
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }
        
        body.dark-mode .setting-item {
            border-bottom-color: #444;
        }
        
        .setting-item:last-child {
            border-bottom: none;
        }
        
        .setting-label {
            font-size: 0.9rem;
            color: var(--secondary);
        }
        
        body.dark-mode .setting-label {
            color: var(--text-dark);
        }
        
        /* FAQ Section */
        .faq-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .faq-section {
            background: var(--card-dark);
        }
        
        .faq-item {
            margin-bottom: 15px;
        }
        
        .faq-question {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--secondary);
            margin-bottom: 5px;
        }
        
        body.dark-mode .faq-question {
            color: var(--text-dark);
        }
        
        .faq-answer {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.5;
        }
        
        body.dark-mode .faq-answer {
            color: #aaa;
        }
        
        /* Chat Bot Page */
        .chat-bot-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 140px);
        }
        
        .chat-header {
            background: var(--primary);
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
        }
        
        body.dark-mode .chat-messages {
            background: #2a2a2a;
        }
        
        .message {
            margin-bottom: 15px;
            max-width: 80%;
        }
        
        .message.bot {
            align-self: flex-start;
        }
        
        .message.user {
            align-self: flex-end;
            margin-left: auto;
        }
        
        .message-content {
            padding: 10px 15px;
            border-radius: 18px;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .message.bot .message-content {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
        }
        
        body.dark-mode .message.bot .message-content {
            background: #333;
            color: white;
            border-color: #444;
        }
        
        .message.user .message-content {
            background: var(--primary);
            color: white;
        }
        
        .message-time {
            font-size: 0.7rem;
            color: #999;
            margin-top: 5px;
            text-align: right;
        }
        
        .chat-input-container {
            padding: 15px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }
        
        body.dark-mode .chat-input-container {
            background: var(--card-dark);
            border-top-color: #444;
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 0.9rem;
        }
        
        body.dark-mode .chat-input {
            background: #333;
            border-color: #555;
            color: white;
        }
        
        .send-button {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Quick Options */
        .quick-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .quick-option {
            background: white;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        body.dark-mode .quick-option {
            background: #333;
        }
        
        .quick-option:hover {
            background: var(--primary);
            color: white;
        }
        
        /* Contact Section */
        .contact-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        body.dark-mode .contact-section {
            background: var(--card-dark);
        }
        
        .contact-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        /* About Section */
        .about-section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .about-section {
            background: var(--card-dark);
        }
        
        /* Guest State */
        .guest-state {
            text-align: center;
            padding: 40px 20px;
        }
        
        .guest-state-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .guest-state-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        body.dark-mode .guest-state-title {
            color: var(--text-dark);
        }
        
        .guest-state-description {
            color: #666;
            margin-bottom: 25px;
        }
        
        body.dark-mode .guest-state-description {
            color: #aaa;
        }
        
        /* Toast */
        .toast-container {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 9999;
        }
        
        .toast {
            background: var(--primary);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Modal Styles */
        body.dark-mode .modal-content {
            background-color: var(--card-dark);
            color: var(--text-dark);
        }
        
        body.dark-mode .form-control,
        body.dark-mode .form-select {
            background-color: #333;
            color: #fff;
            border-color: #555;
        }
        
        body.dark-mode .form-control:focus,
        body.dark-mode .form-select:focus {
            background-color: #444;
            color: #fff;
            border-color: var(--primary);
        }
        
        body.dark-mode .text-muted {
            color: #aaa !important;
        }
        
        body.dark-mode .btn-close {
            filter: invert(1);
        }
        
        /* Auth Pages */
        .auth-page {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .auth-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        body.dark-mode .auth-card {
            background: var(--card-dark);
        }
        
        .auth-logo {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .auth-logo img {
            height: 60px;
            width: auto;
        }
        
        .auth-title {
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 25px;
            color: var(--secondary);
        }
        
        body.dark-mode .auth-title {
            color: var(--text-dark);
        }
        
        .form-label {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--secondary);
        }
        
        body.dark-mode .form-label {
            color: var(--text-dark);
        }
        
        .form-control {
            padding: 12px 15px;
            border-radius: 10px;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        body.dark-mode .form-control {
            background: #333;
            border-color: #555;
            color: white;
        }
        
        .form-check-label {
            font-size: 0.85rem;
            color: #666;
        }
        
        body.dark-mode .form-check-label {
            color: #aaa;
        }
        
        /* Responsive */
        @media (max-width: 576px) {
            .carousel-item img {
                height: 90px;
            }
            
            .place-card {
                min-width: 90px;
            }
            
            .place-card img {
                height: 90px;
            }
            
            .auth-card {
                padding: 20px;
            }
            
            .welcome-features {
                grid-template-columns: 1fr;
                gap: 12px;
                max-width: 280px;
            }
            
            .welcome-feature {
                padding: 12px;
            }
            
            .welcome-feature i {
                font-size: 1.5rem;
            }
            
            .welcome-feature span {
                font-size: 0.8rem;
            }
            
            .profile-avatar {
                width: 80px;
                height: 80px;
            }
            
            .profile-name {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Top Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top top-navbar d-none" id="topNavbar">
        <div class="container-fluid">
            <!-- Logo -->
            <a class="navbar-brand" href="#" onclick="showPage('home'); return false;">
                <img src="logo/logo1.jpg" alt="Reservin" class="logo-img">
            </a>
            
            <!-- Dark Mode Toggle -->
            <button class="btn dark-mode-btn" onclick="toggleDarkMode()" id="darkModeBtn">
                <i class="bi bi-moon-fill"></i>
            </button>
        </div>
    </nav>

    <!-- Bottom Navigation -->
    <nav class="bottom-navbar d-none" id="bottomNavbar">
        <div class="container-fluid">
            <div class="row w-100">
                <div class="col-3 nav-item">
                    <a class="nav-link active" href="#" onclick="showPage('home'); return false;">
                        <i class="bi bi-house-door"></i>
                        <span>Home</span>
                    </a>
                </div>
                <div class="col-3 nav-item">
                    <a class="nav-link" href="#" onclick="showPage('explore'); return false;">
                        <i class="bi bi-compass"></i>
                        <span>Explore</span>
                    </a>
                </div>
                <div class="col-3 nav-item">
                    <a class="nav-link" href="#" onclick="showPage('mybooking'); return false;">
                        <i class="bi bi-calendar-check"></i>
                        <span>Booking</span>
                    </a>
                </div>
                <div class="col-3 nav-item">
                    <a class="nav-link" href="#" onclick="showPage('profile'); return false;">
                        <i class="bi bi-person"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Welcome Page -->
    <div id="welcomePage" class="page active">
        <div class="welcome-page">
            <div class="welcome-content">
                <img src="logo/logo5.png" alt="Reservin" class="welcome-logo">
                <h1 class="welcome-title">Reservin</h1>
                <p class="welcome-description">
                    Platform reservasi restoran dan cafe terpercaya di Solo. 
                    Booking meja favoritmu dengan mudah, cepat, dan praktis.
                </p>
                
                <!-- Features Section -->
                <div class="welcome-features">
                    <div class="welcome-feature">
                        <i class="bi bi-lightning-charge-fill"></i>
                        <span>Booking cepat dalam hitungan detik</span>
                    </div>
                    
                    <div class="welcome-feature">
                        <i class="bi bi-shield-check"></i>
                        <span>Terpercaya dengan konfirmasi real-time</span>
                    </div>
                    
                    <div class="welcome-feature">
                        <i class="bi bi-star-fill"></i>
                        <span>50+ restoran & cafe pilihan di Solo</span>
                    </div>
                </div>
                
                <button class="btn btn-start" onclick="goToLogin()">
                    <i class="bi bi-arrow-right-circle me-2"></i> Mulai Sekarang
                </button>
            </div>
        </div>
    </div>

    <!-- Home Page -->
    <div id="homePage" class="page">
        <div class="page-container">
            <!-- Carousel Promo -->
            <div class="promo-carousel">
                <div id="homeCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="0" class="active"></button>
                        <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="1"></button>
                        <button type="button" data-bs-target="#homeCarousel" data-bs-slide-to="2"></button>
                    </div>
                    <div class="carousel-inner" id="carouselInner">
                        <!-- Carousel items will be generated dynamically -->
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#homeCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#homeCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>
                </div>
            </div>

            <!-- Rekomendasi Hari Ini - Resto -->
            <div class="mb-4">
                <div class="section-title">
                    <span>üçΩÔ∏è Rekomendasi Resto Hari Ini</span>
                    <a href="#" class="section-see-all" onclick="showPage('explore'); return false;">Lihat Semua</a>
                </div>
                <div class="horizontal-scroll" id="restoRecommendations">
                    <!-- Resto cards will be generated dynamically -->
                </div>
            </div>

            <!-- Rekomendasi Hari Ini - Caf√© -->
            <div class="mb-4">
                <div class="section-title">
                    <span>‚òï Rekomendasi Caf√© Hari Ini</span>
                    <a href="#" class="section-see-all" onclick="showPage('explore'); return false;">Lihat Semua</a>
                </div>
                <div class="horizontal-scroll" id="cafeRecommendations">
                    <!-- Cafe cards will be generated dynamically -->
                </div>
            </div>

            <!-- Terakhir Dilihat -->
            <div>
                <div class="section-title">
                    <span>üëÅÔ∏è Terakhir Dilihat</span>
                </div>
                <div id="lastViewed">
                    <!-- Last viewed places will be generated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Explore Page -->
    <div id="explorePage" class="page">
        <div class="page-container">
            <!-- Sticky Search Bar -->
            <div class="search-bar-sticky">
                <div class="search-input-container">
                    <input type="text" class="search-input" id="exploreSearch" 
                           placeholder="Cari resto, caf√©, atau lokasi...">
                    <button class="search-icon-btn" onclick="searchPlaces()">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
            </div>

            <!-- Quick Categories -->
            <div class="quick-categories">
                <button class="category-btn active" onclick="filterCategory('all')">Semua</button>
                <button class="category-btn" onclick="filterCategory('restaurant')">üçΩÔ∏è Resto</button>
                <button class="category-btn" onclick="filterCategory('cafe')">‚òï Caf√©</button>
            </div>

            <!-- Place Grid -->
            <div class="explore-grid" id="exploreGrid">
                <!-- Place grid cards will be generated dynamically -->
            </div>
        </div>
    </div>

    <!-- Bookings Page -->
    <div id="mybookingPage" class="page">
        <div class="page-container">
            <h4 class="mb-3">Bookings</h4>
            
            <!-- Booking Tabs -->
            <div class="booking-tabs">
                <button class="booking-tab active" onclick="showBookingTab('upcoming')">Upcoming</button>
                <button class="booking-tab" onclick="showBookingTab('completed')">Completed</button>
                <button class="booking-tab" onclick="showBookingTab('cancelled')">Cancelled</button>
            </div>

            <!-- Active/Upcoming Bookings -->
            <div id="upcomingBookings">
                <!-- Upcoming booking cards will be generated dynamically -->
            </div>

            <!-- Completed Bookings -->
            <div id="completedBookings" class="d-none">
                <!-- Completed booking cards will be generated dynamically -->
            </div>

            <!-- Cancelled Bookings -->
            <div id="cancelledBookings" class="d-none">
                <!-- Cancelled booking cards will be generated dynamically -->
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profilePage" class="page">
        <div class="page-container">
            <!-- Profile Header -->
            <div class="profile-header">
                <img src="https://ui-avatars.com/api/?name=User&size=100&background=63b9f3&color=fff" 
                     class="profile-avatar" id="profileImage" alt="Profile">
                <h4 class="profile-name" id="profileName">-</h4>
                <p class="profile-email" id="profileEmail">-</p>
                <p class="profile-phone" id="profilePhone">-</p>
                <button class="btn btn-primary btn-sm mt-2" onclick="showEditProfileModal()">
                    <i class="bi bi-pencil me-1"></i> Edit Profile
                </button>
            </div>

            <!-- Account & Preferences -->
            <div class="profile-menu mb-4">
                <div class="profile-menu-item" onclick="showEditProfileModal()">
                    <div class="profile-menu-icon">
                        <i class="bi bi-person-circle"></i>
                    </div>
                    <div class="profile-menu-text">
                        <div class="profile-menu-title">Edit Profile</div>
                        <div class="profile-menu-subtitle">Ubah foto dan data pribadi</div>
                    </div>
                    <div class="profile-menu-arrow">
                        <i class="bi bi-chevron-right"></i>
                    </div>
                </div>
                
                <div class="profile-menu-item" onclick="showSettings()">
                    <div class="profile-menu-icon">
                        <i class="bi bi-gear"></i>
                    </div>
                    <div class="profile-menu-text">
                        <div class="profile-menu-title">Pengaturan & Notifikasi</div>
                        <div class="profile-menu-subtitle">Preferensi aplikasi</div>
                    </div>
                    <div class="profile-menu-arrow">
                        <i class="bi bi-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Help & Information -->
            <div class="profile-menu mb-4">
                <div class="profile-menu-item" onclick="showFAQ()">
                    <div class="profile-menu-icon">
                        <i class="bi bi-question-circle"></i>
                    </div>
                    <div class="profile-menu-text">
                        <div class="profile-menu-title">FAQ</div>
                        <div class="profile-menu-subtitle">Pertanyaan umum</div>
                    </div>
                    <div class="profile-menu-arrow">
                        <i class="bi bi-chevron-right"></i>
                    </div>
                </div>
                
                <div class="profile-menu-item" onclick="showChatBotPage()">
                    <div class="profile-menu-icon">
                        <i class="bi bi-chat-dots"></i>
                    </div>
                    <div class="profile-menu-text">
                        <div class="profile-menu-title">Chat Bot</div>
                        <div class="profile-menu-subtitle">Butuh bantuan?</div>
                    </div>
                    <div class="profile-menu-arrow">
                        <i class="bi bi-chevron-right"></i>
                    </div>
                </div>
                
                <div class="profile-menu-item" onclick="showAbout()">
                    <div class="profile-menu-icon">
                        <i class="bi bi-info-circle"></i>
                    </div>
                    <div class="profile-menu-text">
                        <div class="profile-menu-title">Tentang Aplikasi</div>
                        <div class="profile-menu-subtitle">Versi 1.0.0</div>
                    </div>
                    <div class="profile-menu-arrow">
                        <i class="bi bi-chevron-right"></i>
                    </div>
                </div>
            </div>

            <!-- Logout Button -->
            <button class="logout-btn" onclick="logout()">
                <i class="bi bi-box-arrow-right me-2"></i> Logout
            </button>

            <!-- Guest State (hidden by default) -->
            <div id="guestState" class="guest-state d-none">
                <div class="guest-state-icon">
                    <i class="bi bi-person-circle"></i>
                </div>
                <h5 class="guest-state-title">Masuk untuk menyimpan reservasi dan favorit</h5>
                <p class="guest-state-description">
                    Login untuk mengakses semua fitur Reservin
                </p>
                <button class="btn btn-primary me-2" onclick="goToLogin()">Login</button>
                <button class="btn btn-outline-primary" onclick="showRegisterPage()">Daftar</button>
            </div>
        </div>
    </div>

    <!-- Chat Bot Page -->
    <div id="chatBotPage" class="page">
        <div class="page-container">
            <div class="chat-bot-container">
                <!-- Chat Header -->
                <div class="chat-header">
                    <i class="bi bi-robot"></i>
                    <h5 class="mb-0">Chat Bot Reservin</h5>
                </div>
                
                <!-- Chat Messages -->
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be added here -->
                </div>
                
                <!-- Chat Input -->
                <div class="chat-input-container">
                    <div class="chat-input-wrapper">
                        <input type="text" class="chat-input" id="chatInput" placeholder="Ketik pesan...">
                        <button class="send-button" onclick="sendChatMessage()">
                            <i class="bi bi-send"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="page">
        <div class="auth-page">
            <div class="auth-card">
                <div class="auth-logo">
                    <img src="logo/logo1.jpg" alt="Reservin" class="logo-img">
                </div>
                <h3 class="auth-title">Masuk ke Reservin</h3>
                <form id="loginForm">
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="loginEmail" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="loginPassword" required>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="rememberMe">
                        <label class="form-check-label" for="rememberMe">Ingat Saya</label>
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mb-2">Masuk</button>
                    <button type="button" class="btn btn-link w-100 mb-2" onclick="showForgotPassword()">Lupa Password?</button>
                    <hr>
                    <button type="button" class="btn btn-outline-primary w-100" onclick="showRegisterPage()">
                        Daftar Akun Baru
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Register Page -->
    <div id="registerPage" class="page">
        <div class="auth-page">
            <div class="auth-card">
                <div class="auth-logo">
                    <img src="logo/logo1.jpg" alt="Reservin" class="logo-img">
                </div>
                <h3 class="auth-title">Daftar Akun Baru</h3>
                <form id="registerForm">
                    <div class="mb-3">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-control" id="regName" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="regEmail" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Nomor Telepon</label>
                        <input type="tel" class="form-control" id="regPhone" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password (Min. 6 karakter)</label>
                        <input type="password" class="form-control" id="regPassword" required minlength="6">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Konfirmasi Password</label>
                        <input type="password" class="form-control" id="regConfirmPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mb-2">Daftar</button>
                    <button type="button" class="btn btn-link w-100" onclick="showLoginPage()">
                        Sudah punya akun? Masuk
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modals -->

    <!-- Booking Form Modal -->
    <div class="modal fade" id="bookingFormModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bookingModalTitle">Reservasi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="bookingForm">
                        <div class="mb-3">
                            <label class="form-label">Nama Tempat</label>
                            <input type="text" class="form-control" id="bookingPlaceName" readonly>
                            <input type="hidden" id="bookingPlaceId">
                        </div>
                        <div class="row mb-3">
                            <div class="col-6">
                                <label class="form-label">Tanggal</label>
                                <input type="date" class="form-control" id="bookingDate" required>
                            </div>
                            <div class="col-6">
                                <label class="form-label">Waktu</label>
                                <select class="form-control" id="bookingTime" required>
                                    <option value="">Pilih Waktu</option>
                                    <option value="09:00">09:00</option>
                                    <option value="10:00">10:00</option>
                                    <option value="11:00">11:00</option>
                                    <option value="12:00">12:00</option>
                                    <option value="13:00">13:00</option>
                                    <option value="14:00">14:00</option>
                                    <option value="15:00">15:00</option>
                                    <option value="16:00">16:00</option>
                                    <option value="17:00">17:00</option>
                                    <option value="18:00">18:00</option>
                                    <option value="19:00">19:00</option>
                                    <option value="20:00">20:00</option>
                                    <option value="21:00">21:00</option>
                                    <option value="22:00">22:00</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Jumlah Orang</label>
                            <select class="form-control" id="bookingPeople" required>
                                <option value="">Pilih Jumlah</option>
                                <option value="1">1 orang</option>
                                <option value="2">2 orang</option>
                                <option value="3">3 orang</option>
                                <option value="4">4 orang</option>
                                <option value="5">5 orang</option>
                                <option value="6">6 orang</option>
                                <option value="7">7 orang</option>
                                <option value="8">8 orang</option>
                                <option value="9">9 orang</option>
                                <option value="10">10 orang</option>
                                <option value="11">11+ orang</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Catatan Khusus (opsional)</label>
                            <textarea class="form-control" id="bookingNotes" rows="3" placeholder="Contoh: Meja dekat jendela, ada anak kecil, alergi makanan tertentu, dll."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" onclick="submitBooking()">Buat Reservasi</button>
                </div>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div class="modal fade" id="qrCodeModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Kode Booking</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="qr-code-container">
                        <div class="qr-code" id="qrCodeDisplay">
                            <!-- QR Code will be generated here -->
                            <div style="text-align: center; padding: 20px;">QR Code</div>
                        </div>
                        <div class="booking-code" id="bookingCodeDisplay">BK123456</div>
                        <p class="text-muted">Tunjukkan QR code ini saat datang ke tempat</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Detail Modal -->
    <div class="modal fade" id="bookingDetailModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Detail Booking</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="bookingDetailContent">
                        <!-- Booking details will be loaded here -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" onclick="viewQRCode()">
                        <i class="bi bi-qr-code me-1"></i> Lihat QR Code
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editProfileForm">
                        <div class="mb-3 text-center">
                            <img src="https://ui-avatars.com/api/?name=User&size=100&background=63b9f3&color=fff" 
                                 class="profile-avatar mb-3" id="editProfileImage" alt="Profile">
                            <div class="d-flex justify-content-center gap-2">
                                <button type="button" class="btn btn-sm btn-outline-primary" onclick="takePhoto()">
                                    <i class="bi bi-camera me-1"></i> Kamera
                                </button>
                                <button type="button" class="btn btn-sm btn-outline-primary" onclick="chooseFromGallery()">
                                    <i class="bi bi-images me-1"></i> Galeri
                                </button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nama Lengkap</label>
                            <input type="text" class="form-control" id="editProfileName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="editProfileEmail" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nomor Telepon</label>
                            <input type="tel" class="form-control" id="editProfilePhone" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Kata Sandi Baru (opsional)</label>
                            <input type="password" class="form-control" id="editProfilePassword" placeholder="Biarkan kosong jika tidak ingin mengubah">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Konfirmasi Kata Sandi</label>
                            <input type="password" class="form-control" id="editProfileConfirmPassword" placeholder="Biarkan kosong jika tidak ingin mengubah">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" onclick="saveProfile()">Simpan Perubahan</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal fade" id="settingsModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Pengaturan & Notifikasi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-4">
                        <h6 class="mb-3"><i class="bi bi-display me-2"></i>Tampilan</h6>
                        <div class="setting-item">
                            <span class="setting-label">Mode Tampilan</span>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="darkModeSwitch" 
                                       onchange="toggleDarkModeFromSwitch()">
                                <label class="form-check-label" for="darkModeSwitch">
                                    <span id="darkModeLabel">Mode Gelap</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h6 class="mb-3"><i class="bi bi-geo-alt me-2"></i>Lokasi</h6>
                        <div class="setting-item">
                            <span class="setting-label">Lokasi Default</span>
                            <select class="form-select w-auto" id="locationSelect">
                                <option value="solo">Solo</option>
                                <option value="sukoharjo">Sukoharjo</option>
                                <option value="karanganyar">Karanganyar</option>
                                <option value="boyolali">Boyolali</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h6 class="mb-3"><i class="bi bi-translate me-2"></i>Bahasa</h6>
                        <div class="setting-item">
                            <span class="setting-label">Bahasa Aplikasi</span>
                            <select class="form-select w-auto" id="languageSelect">
                                <option value="id">Indonesia</option>
                                <option value="en">English</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h6 class="mb-3"><i class="bi bi-bell me-2"></i>Notifikasi</h6>
                        <div class="setting-item">
                            <span class="setting-label">Pengingat Reservasi</span>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="reminderSwitch" checked>
                            </div>
                        </div>
                        <div class="setting-item">
                            <span class="setting-label">Promo & Penawaran</span>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="promoSwitch" checked>
                            </div>
                        </div>
                        <div class="setting-item">
                            <span class="setting-label">Update Aplikasi</span>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="updateSwitch" checked>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Modal -->
    <div class="modal fade" id="faqModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">FAQ - Pertanyaan Umum</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="faq-section">
                        <div class="faq-item">
                            <h6 class="faq-question">1. Bagaimana cara melakukan reservasi?</h6>
                            <p class="faq-answer">
                                Cari restoran atau caf√© di halaman Explore, pilih tempat yang diinginkan, 
                                lalu klik tombol "Reservasi". Isi tanggal, waktu, dan jumlah orang, 
                                kemudian konfirmasi reservasi Anda.
                            </p>
                        </div>
                        
                        <div class="faq-item">
                            <h6 class="faq-question">2. Berapa banyak restoran dan caf√© yang tersedia?</h6>
                            <p class="faq-answer">
                                Reservin bekerja sama dengan 50+ restoran dan caf√© pilihan di Solo dan sekitarnya. 
                                Jumlah ini terus bertambah seiring waktu.
                            </p>
                        </div>
                        
                        <div class="faq-item">
                            <h6 class="faq-question">3. Bisakah saya membatalkan reservasi?</h6>
                            <p class="faq-answer">
                                Ya, Anda dapat membatalkan reservasi dari halaman Bookings selama status reservasi 
                                masih "Menunggu" atau "Dikonfirmasi". Batalkan minimal 2 jam sebelum waktu reservasi.
                            </p>
                        </div>
                        
                        <div class="faq-item">
                            <h6 class="faq-question">4. Apakah ada biaya untuk menggunakan Reservin?</h6>
                            <p class="faq-answer">
                                Reservin sepenuhnya GRATIS untuk pengguna. Tidak ada biaya tambahan untuk melakukan reservasi.
                            </p>
                        </div>
                        
                        <div class="faq-item">
                            <h6 class="faq-question">5. Bagaimana jika saya datang terlambat?</h6>
                            <p class="faq-answer">
                                Silakan datang 15 menit sebelum waktu reservasi. Jika terlambat lebih dari 30 menit, 
                                reservasi mungkin akan dibatalkan otomatis oleh sistem.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                </div>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal fade" id="aboutModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Tentang Aplikasi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="about-section">
                        <div class="text-center mb-4">
                            <img src="logo/logo5.png" alt="Reservin" style="width: 80px; height: auto; margin-bottom: 15px;">
                            <h4>Reservin</h4>
                            <p class="text-muted">Versi 1.0.0</p>
                        </div>
                        
                        <h6 class="mb-3">Deskripsi Aplikasi</h6>
                        <p class="text-muted mb-4">
                            Reservin adalah aplikasi mobile untuk memudahkan reservasi tempat makan di Solo. 
                            Kami mendukung digitalisasi UMKM kuliner lokal dan menjadi penghubung efektif 
                            antara pelanggan dan pemilik restoran/caf√©.
                        </p>
                        
                        <h6 class="mb-3">Fitur Utama</h6>
                        <ul class="text-muted mb-4">
                            <li>Reservasi cepat dan praktis</li>
                            <li>50+ restoran & caf√© pilihan di Solo</li>
                            <li>Konfirmasi real-time</li>
                            <li>Notifikasi pengingat reservasi</li>
                            <li>QR Code untuk validasi</li>
                        </ul>
                        
                        <h6 class="mb-3">Kontak Pengembang</h6>
                        <p class="text-muted mb-2">
                            <i class="bi bi-envelope me-2"></i> support@reservin.com
                        </p>
                        <p class="text-muted">
                            <i class="bi bi-telephone me-2"></i> (0271) 1234-5678
                        </p>
                        
                        <div class="mt-4 pt-3 border-top">
                            <p class="text-muted small">
                                &copy; 2024 Reservin Team. All rights reserved.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // ========== GLOBAL VARIABLES ==========
        const places = [
            // Cafe (25 tempat)
            {id: 1, name: "18 Grounds Coffee", type: "cafe", description: "Best Coffee & Cookies", address: "Jl. Honggowongso No.78G, Panularan, Kec. Laweyan, Kota Surakarta, Jawa Tengah 57149 ", phone: "+62 271 717701", rating: 4.6, distance: 1.7, price: "sedang", images: ["Asset Cafe/1. 18 Grounds Coffee/gambar1.jpg"], popular: true, promo: "Diskon 20% untuk semua minuman", open: true},
            {id: 2, name: "25 Coffee", type: "cafe", description: "Brewing you the best coffee from Indonesia with a reasonable price", address: "Jl. Imam Bonjol No.55, Kp. Baru, Kec. Ps. Kliwon, Kota Surakarta, Jawa Tengah 57133", phone: "0851-3332-3225", rating: 4.9, distance: 3.8, price: "mahal", images: ["Asset Cafe/2. 25 Coffee/gambar3.jpg"], popular: true, promo: "Beli 1 gratis 1 setiap hari Senin", open: true},
            {id: 3, name: "Bahagia Bersama", type: "cafe", description: "Coffee shop modern dengan interior minimalis", address: "Jl. Yos Sudarso No.81, Kauman, Kec. Ps. Kliwon, Kota Surakarta, Jawa Tengah 57151", phone: "082227470050", rating: 4.7, distance: 2.5, price: "murah", images: ["Asset Cafe/3. Bahagia Bersama/gambar6.jpg"], popular: false, promo: null, open: true},
            {id: 4, name: "Cold n brew", type: "cafe", description: "Coffee 'N Coworking Space #houseofideas", address: "Dusun I, Madegondo, Kec. Grogol, Kabupaten Sukoharjo, Jawa Tengah 57552", phone: "085117070920", rating: 4.7, distance: 1.5, price: "sedang", images: ["Asset Cafe/4. cold n brew/gambar8.jpg"], popular: true, promo: "Happy hour 15:00-17:00", open: true},
            {id: 5, name: "Communion", type: "cafe", description: "Coffee - Collaboration - Space", address: "Jl. Brigjen Slamet Riyadi No.61, Kauman, Kec. Ps. Kliwon, Kota Surakarta, Jawa Tengah 57122", phone: "08218638336", rating: 4.2, distance: 2.1, price: "sedang", images: ["Asset Cafe/5. Communion/gambar13.jpg"], popular: false, promo: null, open: false},
            {id: 6, name: "Gettsee", type: "cafe", description: "BREWING EVERYDAY!‚ú®", address: "Jl. Slamet Riyadi No.268 Rt06/04, Timuran, Kec. Banjarsari, Kota Surakarta, Jawa Tengah 57714", phone: "0271-6789012", rating: 4.6, distance: 1.8, price: "murah", images: ["Asset Cafe/6. Gettsee/gambar16.jpg"], popular: false, promo: null, open: true},
            {id: 7, name: "Kagumi", type: "cafe", description: "Kopi, Roti, Nasi", address: "Jl. Yosodipuro No.49, Timuran, Kec. Banjarsari, Kota Surakarta, Jawa Tengah 57131", phone: "0271-7890123", rating: 4.2, distance: 2.3, price: "sedang", images: ["Asset Cafe/7. KAGUMI/gambar20.jpg"], popular: true, promo: "Diskon 15% kopi spesial", open: true},
            {id: 8, name: "Kalagyan", type: "cafe", description: "Cafe dengan konsep unik dan menu kreatif", address: "Jl. Slamet Riyadi No.11, Kauman, Kec. Ps. Kliwon, Kota Surakarta, Jawa Tengah 57122", phone: "0271-8901234", rating: 4.6, distance: 3.0, price: "murah", images: ["Asset Cafe/8. KALAGYAN/gambar24.jpg"], popular: false, promo: null, open: true},
            {id: 9, name: "Kavelokka", type: "cafe", description: "Cafe aesthetic dengan menu fusion", address: "Jl. Slamet Riyadi No. , 151, Kemiayan, Kec. Serengan, Kota Surakarta, Jawa Tengah 57151", phone: "0271-9012345", rating: 4.6, distance: 1.4, price: "sedang", images: ["Asset Cafe/9. KAVELOKKA/gambar29.jpg"], popular: true, promo: "Gratis snack untuk 2 gelas kopi", open: true},
            {id: 10, name: "Kawan Tuli Coffee & Space", type: "cafe", description: "Cafe inklusif dengan pelayanan ramah", address: "Jl. Ronggowarsito No. 16, Kp Baru, Kec. Ps. Kliwon, Kota Surakarta, Jawa Tengah 57133", phone: "0271-0123456", rating: 4.8, distance: 0.9, price: "mahal", images: ["Asset Cafe/10. Kawan Tuli Coffee & Space/gambar36.jpg"], popular: true, promo: "Diskon 25% untuk pelajar", open: true},
            {id: 11, name: "Kelana", type: "cafe", description: "Cafe cozy dengan suasana hangat dan kopi berkualitas", address: "Jl. Mentri Supeno No. 11, Manahan, Kec. Banjarsari, Kota Surakarta, Jawa Tengah, 57139", phone: "0271-1234568", rating: 4.3, distance: 2.7, price: "sedang", images: ["Asset Cafe/11. kelana/gambar41.jpg"], popular: false, promo: null, open: true},
            {id: 12, name: "Kopi Nako", type: "cafe", description: "Kopi lokal dengan cita rasa khas Solo", address: "Jl. Kalitan No.1 Penumping, Kota Surakarta, Jawa Tengah 57141", phone: "0271-2345679", rating: 4.0, distance: 3.2, price: "murah", images: ["Asset Cafe/12. KOPI NAKO/gambar46.jpg"], popular: false, promo: null, open: true},
            {id: 13, name: "Kopi Parang", type: "cafe", description: "Kopi dengan karakter kuat dan berani", address: "Jl. Parang Klitik I No. 10, Sondakan, Kec. Laweyan, Kota Surakarta, Jawa Tengah 57147", phone: "0271-3456790", rating: 4.5, distance: 1.1, price: "sedang", images: ["Asset Cafe/13. Kopi Parang/gambar51.jpg"], popular: true, promo: "Paket hemat untuk 4 orang", open: true},
            {id: 14, name: "Odds", type: "cafe", description: "Specialty coffee dengan brewing method lengkap", address: "l. Slamet Riyadi No. 241, Kemlayan, Kec. Serengan, Kota Surakarta, Jawa Tengah 57151", phone: "0271-4567901", rating: 4.7, distance: 2.0, price: "mahal", images: ["Asset Cafe/14. Odds/gambar61.jpg"], popular: true, promo: "Diskon 30% jam 16:00-18:00", open: true},
            {id: 15, name: "Oxyco Coffee", type: "cafe", description: "Coffee shop modern dengan interior minimalis", address: "Soba Bisnis Square Ruko Narendra JD-23 Solo Baru, Kabupaten Sukoharjo, Jawa Tengah 57552", phone: "0271-5679012", rating: 4.4, distance: 2.8, price: "sedang", images: ["Asset Cafe/15. Oxyco coffee/gambar64.jpg"], popular: false, promo: null, open: true},
            {id: 16, name: "Sawahita", type: "cafe", description: "Cafe dengan konsep sawah dan natural", address: "Kerten, Kec. Laweyan, Kota Surakarta, Jwa Tengah", phone: "0271-6789123", rating: 4.2, distance: 1.7, price: "murah", images: ["Asset Cafe/16. Sawahita/gambar71.jpg"], popular: false, promo: null, open: true},
            {id: 17, name: "Seperdua", type: "cafe", description: "Coffee and eatery dengan suasana nyaman", address: "Jl. Yos Sudarso No. 22, Solo", phone: "0271-7890234", rating: 4.6, distance: 2.4, price: "sedang", images: ["Asset Cafe/17. SEPERDUA/gambar75.jpg"], popular: true, promo: "Kopi gratis setiap pembelian 5", open: true},
            {id: 18, name: "Slari Coffee", type: "cafe", description: "Tempat bersantai dengan musik jazz", address: "Jl. Dr. Radjiman No. 33, Solo", phone: "0271-8901345", rating: 4.3, distance: 3.1, price: "murah", images: ["Asset Cafe/18. SLARI COFFEE /gambar79.jpg"], popular: false, promo: null, open: true},
            {id: 19, name: "Tetra", type: "cafe", description: "Menghadirkan kopi dari berbagai daerah Indonesia", address: "Jl. Sumpah Pemuda No. 66, Solo", phone: "0271-9012456", rating: 4.9, distance: 0.7, price: "mahal", images: ["Asset Cafe/19. Tetra/gambar85.jpg"], popular: true, promo: "Diskon 20% untuk semua kopi", open: true},
            {id: 20, name: "The Hidden Swargi Coffee", type: "cafe", description: "Coffee shop dengan metode seduhan spesial", address: "Jl. Merdeka No. 111, Solo", phone: "0271-0123567", rating: 4.5, distance: 2.2, price: "sedang", images: ["Asset Cafe/20. The Hidden Swargi Coffee/gambar88.jpg"], popular: true, promo: "Workshop kopi gratis setiap Sabtu", open: true},
            {id: 21, name: "Anak Panah", type: "cafe", description: "Tempat sarapan dengan kopi segar", address: "Jl. Diponegoro No. 89, Solo", phone: "0271-1234678", rating: 4.1, distance: 1.9, price: "murah", images: ["Asset Cafe/21.Anak Panah/gambar94.jpg"], popular: false, promo: null, open: true},
            {id: 22, name: "Dante", type: "cafe", description: "Cafe dengan koleksi buku yang bisa dibaca", address: "Jl. Slamet Riyadi No. 333, Solo", phone: "0271-2345789", rating: 4.7, distance: 2.6, price: "sedang", images: ["Asset Cafe/22.Dante/gambar96.jpg"], popular: true, promo: "Diskon 10% untuk anggota", open: true},
            {id: 23, name: "AntaraKata", type: "cafe", description: "Cafe dengan taman outdoor yang asri", address: "Jl. Gatot Subroto No. 44, Solo", phone: "0271-3456890", rating: 4.4, distance: 3.3, price: "murah", images: ["Asset Cafe/23.AntaraKata/gambar99.jpg"], popular: false, promo: null, open: false},
            {id: 24, name: "Catniphora", type: "cafe", description: "Cafe dengan nuansa urban yang trendy", address: "Jl. Adisucipto No. 199, Solo", phone: "0271-4567902", rating: 4.6, distance: 1.3, price: "sedang", images: ["Asset Cafe/24.Catniphora/c1.jpg"], popular: true, promo: "Happy hour setiap hari", open: true},
            {id: 25, name: "Sosiallatte", type: "cafe", description: "Coffee shop dengan biji kopi pilihan", address: "Jl. Yos Sudarso No. 77, Solo", phone: "0271-5679013", rating: 4.8, distance: 2.1, price: "mahal", images: ["Asset Cafe/25.sosiallatte/gambar112.jpg"], popular: true, promo: "Paket degustasi kopi spesial", open: true},

            // Restoran (25 tempat)
            {id: 1, name: "Xin Xin Resto", type: "restaurant", description: "Restoran Chinese food halal dengan cita rasa autentik", address: "Jl. Diponegoro No. 42, Solo", phone: "0271-1234501", rating: 4.8, distance: 0.5, price: "mahal", images: ["Asset Resto/1. xin xin resto/ft 1.jpg"], popular: true, promo: "Diskon 30% untuk menu spesial", open: true},
            {id: 2, name: "Orient Resto", type: "restaurant", description: "Masakan oriental dengan bumbu khas", address: "Jl. Slamet Riyadi No. 88, Solo", phone: "0271-2345602", rating: 4.5, distance: 1.3, price: "sedang", images: ["Asset Resto/2. orint resto/ft 6.jpg"], popular: true, promo: "Gratis teh tarik untuk reservasi", open: true},
            {id: 3, name: "Kampung Kecil Solo", type: "restaurant", description: "Restoran konsep kampung dengan menu tradisional", address: "Jl. Yos Sudarso No. 15, Solo", phone: "0271-3456703", rating: 4.2, distance: 3.0, price: "murah", images: ["Asset Resto/3. kampung kecil solo/ft 8.jpg"], popular: false, promo: null, open: true},
            {id: 4, name: "Omah Sinten Heritage Resto", type: "restaurant", description: "Restoran heritage Jawa dengan suasana klasik", address: "Jl. Veteran No. 25, Solo", phone: "0271-4567804", rating: 4.9, distance: 0.7, price: "mahal", images: ["Asset Resto/4. omah sinten heritage resto/ft 11.jpg"], popular: true, promo: "Paket keluarga 4 orang spesial", open: true},
            {id: 5, name: "Ayam Malioboro", type: "restaurant", description: "Spesialis ayam dengan bumbu istimewa", address: "Jl. Dr. Radjiman No. 99, Solo", phone: "0271-5678905", rating: 4.6, distance: 2.2, price: "sedang", images: ["Asset Resto/5. ayam malioboro/ft 14.jpg"], popular: true, promo: "Beli 2 ayam gratis 1 nasi", open: false},
            {id: 6, name: "Botania", type: "restaurant", description: "Restoran dengan konsep taman botanis", address: "Jl. Ahmad Yani No. 77, Solo", phone: "0271-6789006", rating: 4.5, distance: 1.8, price: "sedang", images: ["Asset Resto/1. xin xin resto/ft 1.jpg"], popular: false, promo: null, open: true},
            {id: 7, name: "Djampi Jawi Solo", type: "restaurant", description: "Masakan Jawa dengan resep turun temurun", address: "Jl. Adisucipto No. 33, Solo", phone: "0271-7890127", rating: 4.3, distance: 2.5, price: "murah", images: ["Asset Resto/2. orint resto/ft 6.jpg"], popular: false, promo: null, open: true},
            {id: 8, name: "Double Decker", type: "restaurant", description: "restaurant", description: "Restoran bertingkat dengan menu beragam", address: "Jl. Monginsidi No. 55, Solo", phone: "0271-8901208", rating: 4.7, distance: 1.2, price: "sedang", images: ["Asset Resto/3. kampung kecil solo/ft 8.jpg"], popular: true, promo: "Paket nasi padang komplit", open: true},
            {id: 9, name: "Adem Ayem Resto Slamet Riyadi", type: "restaurant", description: "Restoran dengan suasana adem dan tenang", address: "Jl. Sudirman No. 111, Solo", phone: "0271-9012309", rating: 4.5, distance: 2.8, price: "sedang", images: ["Asset Resto/4. omah sinten heritage resto/ft 11.jpg"], popular: true, promo: "Buy 1 Get 1 setiap Rabu", open: true},
            {id: 10, name: "Armey Kitchen", type: "restaurant", description: "Kitchen modern dengan menu fusion", address: "Jl. Gajah Mada No. 22, Solo", phone: "0271-0123410", rating: 4.8, distance: 3.1, price: "mahal", images: ["Asset Resto/5. ayam malioboro/ft 14.jpg"], popular: true, promo: "Diskon 20% seafood spesial", open: true},
            {id: 11, name: "Ayam Goreng Kartini", type: "restaurant", description: "Ayam goreng legendaris dengan bumbu rahasia", address: "Jl. Honggowongso No. 44, Solo", phone: "0271-1122311", rating: 4.2, distance: 1.5, price: "murah", images: ["Asset Resto/1. xin xin resto/ft 1.jpg"], popular: false, promo: null, open: true},
            {id: 12, name: "Balekambang Resto", type: "restaurant", description: "Restoran pinggir kolam dengan view indah", address: "Jl. Urip Sumoharjo No. 66, Solo", phone: "0271-2233412", rating: 4.6, distance: 2.3, price: "sedang", images: ["Asset Resto/2. orint resto/ft 6.jpg"], popular: true, promo: "Paket bebek untuk 2-3 orang", open: true},
            {id: 13, name: "Canting Londo Kitchen", type: "restaurant", description: "Fusion food Indonesia dan Western", address: "Jl. Dr. Moewardi No. 88, Solo", phone: "0271-3344513", rating: 4.9, distance: 0.9, price: "murah", images: ["Asset Resto/3. kampung kecil solo/ft 8.jpg"], popular: true, promo: "Soto spesial + es teh", open: true},
            {id: 14, name: "Kusuma Sari Restaurant", type: "restaurant", description: "Restoran keluarga dengan menu komplit", address: "Jl. Ki Hajar Dewantara No. 99, Solo", phone: "0271-4455614", rating: 4.4, distance: 2.7, price: "sedang", images: ["Asset Resto/4. omah sinten heritage resto/ft 11.jpg"], popular: false, promo: null, open: true},
            {id: 15, name: "Le Verre Resto dan Lounge", type: "restaurant", description: "Fine dining dengan suasana elegan", address: "Jl. Brigjen Sudiarto No. 111, Solo", phone: "0271-5566715", rating: 4.7, distance: 1.6, price: "mahal", images: ["Asset Resto/5. ayam malioboro/ft 14.jpg"], popular: true, promo: "All you can eat sushi", open: true},
            {id: 16, name: "Mang Engking Solo", type: "restaurant", description: "Restoran Sunda dengan ikan bakar segar", address: "Jl. Adi Sumarmo No. 33, Solo", phone: "0271-6677816", rating: 4.1, distance: 3.2, price: "murah", images: ["Asset Resto/1. xin xin resto/ft 1.jpg"], popular: false, promo: null, open: true},
            {id: 17, name: "Mangano", type: "restaurant", description: "Restoran Italia dengan pasta dan pizza", address: "Jl. Gatot Subroto No. 55, Solo", phone: "0271-7788917", rating: 4.8, distance: 1.4, price: "mahal", images: ["Asset Resto/2. orint resto/ft 6.jpg"], popular: true, promo: "Wine pairing gratis", open: true},
            {id: 18, name: "Pracima Tuin Pura Mangkunegaran", type: "restaurant", description: "Restoran di area keraton dengan menu royal", address: "Pura Mangkunegaran, Solo", phone: "0271-8899018", rating: 4.3, distance: 2.9, price: "murah", images: ["Asset Resto/3. kampung kecil solo/ft 8.jpg"], popular: false, promo: null, open: true},
            {id: 19, name: "Ramayana", type: "restaurant", description: "tempat makan legendaris di Solo yang terkenal menyajikan hidangan autentik Indonesia dan Tionghoa sejak tahun 1976", address: "Kp. Baru, Ps. Kliwon, Jl. Imam Bonjol No.49, Keprabon Solo", phone: "0271-9900119", rating: 4.6, distance: 1.1, price: "sedang", images: ["Asset Resto/4. omah sinten heritage resto/ft 11.jpg"], popular: true, promo: "Menu keluarga 6 orang", open: true},
            {id: 20, name: "Selat Solo Tenda Biru", type: "restaurant", description: "Selat solo legendaris dengan tenda biru ikonik", address: "Jl. Jend Sudirman No. 22, Solo", phone: "0271-9900119", rating: 4.5, distance: 2.0, price: "sedang", images: ["Asset Resto/5. ayam malioboro/ft 14.jpg"], popular: true, promo: "Diskon untuk pengunjung batik", open: true},
            {id: 21, name: "Selera Jawa Sunda", type: "restaurant", description: "Perpaduan masakan Jawa dan Sunda", address: "Jl. Juanda No. 44, Solo", phone: "0271-1234561", rating: 4.4, distance: 3.3, price: "murah", images: ["Asset Resto/1. xin xin resto/ft 1.jpg"], popular: false, promo: null, open: true},
            {id: 22, name: "Solo's Bistro", type: "restaurant", description: "Bistro modern dengan menu internasional", address: "Jl. Brigjend Katamso No. 66, Solo", phone: "0271-1122321", rating: 4.7, distance: 2.4, price: "mahal", images: ["Asset Resto/2. orint resto/ft 6.jpg"], popular: true, promo: "Unlimited BBQ setiap Sabtu", open: true},
            {id: 23, name: "The Soga Eatery", type: "restaurant", description: "Eatery dengan konsep instagramable", address: "Jl. Letjen Suprapto No. 88, Solo", phone: "0271-2233422", rating: 4.6, distance: 1.7, price: "sedang", images: ["Asset Resto/3. kampung kecil solo/ft 8.jpg"], popular: true, promo: "Extra topping gratis", open: true},
            {id: 24, name: "Vien's", type: "restaurant", description: "Restoran Vietnam dengan pho autentik", address: "Jl. Raya Solo-Sragen No. 99, Solo", phone: "0271-3344523", rating: 4.9, distance: 0.6, price: "murah", images: ["Asset Resto/4. omah sinten heritage resto/ft 11.jpg"], popular: true, promo: "Nasi liwet spesial Solo", open: true},
            {id: 25, name: "Yassalam Resto Solo", type: "restaurant", description: "restoran populer di Solo yang menyajikan hidangan autentik khas Timur Tengah", address: "Jl. Kapten Mulyadi No.193, Solo", phone: "0271-5678905", rating: 4.9, distance: 1.9, price: "mahal", images: ["Asset Resto/5. ayam malioboro/ft 14.jpg"], popular: true, promo: "Chef's special menu", open: true}
        ];

        let currentPlace = null;
        let currentBooking = null;
        let bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
        let lastViewed = JSON.parse(localStorage.getItem('lastViewed') || '[]');
        let currentUser = JSON.parse(localStorage.getItem('session') || 'null');
        let activeCategory = 'all';
        let currentReservationPlace = null;

        // ========== INITIALIZATION ==========
        function initApp() {
            // Load dark mode
            const isDark = localStorage.getItem('darkMode') === 'true';
            if (isDark) {
                document.body.classList.add('dark-mode');
                const icon = document.querySelector('#darkModeBtn i');
                if (icon) {
                    icon.classList.remove('bi-moon-fill');
                    icon.classList.add('bi-sun-fill');
                }
                const switchEl = document.getElementById('darkModeSwitch');
                if (switchEl) {
                    switchEl.checked = true;
                }
                const labelEl = document.getElementById('darkModeLabel');
                if (labelEl) {
                    labelEl.textContent = 'Mode Terang';
                }
            }

            // Check session
            if (currentUser && currentUser.rememberMe) {
                showApp();
            } else {
                showWelcomePage();
            }

            // Initialize sample data if empty
            if (bookings.length === 0) {
                initSampleBookings();
            }

            setupEventListeners();
        }

        function initSampleBookings() {
            const sampleBookings = [
                {
                    id: 1,
                    placeId: 1,
                    placeName: "Kelana",
                    date: new Date(Date.now() + 86400000).toISOString().split('T')[0],
                    time: "19:00",
                    people: 2,
                    notes: "",
                    status: "confirmed",
                    bookingCode: "BK" + Date.now().toString().substr(-6),
                    createdAt: new Date().toISOString()
                },
                {
                    id: 2,
                    placeId: 6,
                    placeName: "Xin Xin Resto",
                    date: new Date(Date.now() + 172800000).toISOString().split('T')[0],
                    time: "20:00",
                    people: 4,
                    notes: "Meja dekat jendela",
                    status: "pending",
                    bookingCode: "BK" + (Date.now() + 1000).toString().substr(-6),
                    createdAt: new Date().toISOString()
                },
                {
                    id: 3,
                    placeId: 2,
                    placeName: "Communion",
                    date: new Date(Date.now() - 86400000).toISOString().split('T')[0],
                    time: "18:30",
                    people: 3,
                    notes: "",
                    status: "completed",
                    bookingCode: "BK" + (Date.now() + 2000).toString().substr(-6),
                    createdAt: new Date().toISOString()
                }
            ];
            
            bookings = sampleBookings;
            localStorage.setItem('bookings', JSON.stringify(bookings));
        }

        function showApp() {
            document.getElementById('topNavbar').classList.remove('d-none');
            document.getElementById('bottomNavbar').classList.remove('d-none');
            showPage('home');
        }

        function showWelcomePage() {
            document.getElementById('topNavbar').classList.add('d-none');
            document.getElementById('bottomNavbar').classList.add('d-none');
            showPage('welcome');
        }

        // ========== PAGE NAVIGATION ==========
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Show target page
            const targetPage = document.getElementById(pageName + 'Page');
            if (targetPage) {
                targetPage.classList.add('active');
            }

            // Update bottom nav active state
            if (['home', 'explore', 'mybooking', 'profile'].includes(pageName)) {
                document.querySelectorAll('.bottom-navbar .nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                const activeLink = document.querySelector(`.bottom-navbar .nav-link[href="#"][onclick*="${pageName}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }

            // Load page content
            switch(pageName) {
                case 'home':
                    loadHomeContent();
                    break;
                case 'explore':
                    loadExploreContent();
                    break;
                case 'mybooking':
                    loadBookings();
                    break;
                case 'profile':
                    loadProfile();
                    break;
                case 'chatBot':
                    loadChatBot();
                    break;
            }
        }

        function goToLogin() {
            showPage('login');
        }

        function showLoginPage() {
            showPage('login');
        }

        function showRegisterPage() {
            showPage('register');
        }

        function showChatBotPage() {
            showPage('chatBot');
        }

        // ========== HOME PAGE ==========
        function loadHomeContent() {
            // Load carousel
            loadCarousel();
            
            // Load resto recommendations
            loadRestoRecommendations();
            
            // Load cafe recommendations
            loadCafeRecommendations();
            
            // Load last viewed
            loadLastViewed();
        }

        function loadCarousel() {
            const carouselInner = document.getElementById('carouselInner');
            const promos = places.filter(p => p.promo).slice(0, 3);
            
            if (promos.length === 0) return;
            
            carouselInner.innerHTML = promos.map((place, index) => `
                <div class="carousel-item ${index === 0 ? 'active' : ''}">
                    <img src="${place.images[0]}" class="d-block w-100" alt="${place.name}">
                    <div class="carousel-caption">
                        <h5>${place.name}</h5>
                        <p class="carousel-promo-text">${place.promo}</p>
                        <button class="btn btn-primary btn-sm" onclick="showDetail(${place.id})">
                            Lihat Detail
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadRestoRecommendations() {
            const container = document.getElementById('restoRecommendations');
            const restoPlaces = places.filter(p => p.type === 'restaurant' && p.popular).slice(0, 5);
            
            container.innerHTML = restoPlaces.map(place => `
                <div class="place-card" onclick="showDetail(${place.id})">
                    <img src="${place.images[0]}" alt="${place.name}">
                    <div class="place-card-content">
                        <h6 class="place-card-title">${place.name}</h6>
                        <div class="place-card-rating">
                            <i class="bi bi-star-fill"></i> ${place.rating}
                        </div>
                        <p class="place-card-location">
                            <i class="bi bi-geo-alt"></i> ${place.distance} km
                        </p>
                        <button class="btn btn-primary btn-sm w-100 place-card-button" onclick="event.stopPropagation(); showBookingForm(${place.id})">
                            <i class="bi bi-calendar-check me-1"></i> Reservasi
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadCafeRecommendations() {
            const container = document.getElementById('cafeRecommendations');
            const cafePlaces = places.filter(p => p.type === 'cafe' && p.popular).slice(0, 5);
            
            container.innerHTML = cafePlaces.map(place => `
                <div class="place-card" onclick="showDetail(${place.id})">
                    <img src="${place.images[0]}" alt="${place.name}">
                    <div class="place-card-content">
                        <h6 class="place-card-title">${place.name}</h6>
                        <div class="place-card-rating">
                            <i class="bi bi-star-fill"></i> ${place.rating}
                        </div>
                        <p class="place-card-location">
                            <i class="bi bi-geo-alt"></i> ${place.distance} km
                        </p>
                        <button class="btn btn-primary btn-sm w-100 place-card-button" onclick="event.stopPropagation(); showBookingForm(${place.id})">
                            <i class="bi bi-calendar-check me-1"></i> Reservasi
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadLastViewed() {
            const container = document.getElementById('lastViewed');
            const lastViewedPlaces = lastViewed.slice(0, 3).map(id => places.find(p => p.id === id)).filter(p => p);
            
            if (lastViewedPlaces.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-3">
                        <p class="text-muted">Belum ada riwayat</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = lastViewedPlaces.map(place => `
                <div class="last-viewed-card" onclick="showDetail(${place.id})">
                    <img src="${place.images[0]}" alt="${place.name}" class="last-viewed-img">
                    <div style="flex: 1;">
                        <div class="last-viewed-label">Terakhir kamu lihat</div>
                        <h6 style="margin: 0; font-size: 0.9rem;">${place.name}</h6>
                        <div style="font-size: 0.8rem; color: #666; display: flex; align-items: center; gap: 10px;">
                            <span><i class="bi bi-star-fill"></i> ${place.rating}</span>
                            <span><i class="bi bi-geo-alt"></i> ${place.distance} km</span>
                        </div>
                    </div>
                    <i class="bi bi-chevron-right text-muted"></i>
                </div>
            `).join('');
        }

        // ========== EXPLORE PAGE ==========
        function loadExploreContent() {
            loadExploreGrid();
            
            // Setup search
            document.getElementById('exploreSearch').addEventListener('input', loadExploreGrid);
        }

        function loadExploreGrid() {
            const query = document.getElementById('exploreSearch').value.toLowerCase();
            
            let filtered = places;
            
            // Apply search filter
            if (query) {
                filtered = filtered.filter(p => 
                    p.name.toLowerCase().includes(query) || 
                    p.description.toLowerCase().includes(query) ||
                    p.address.toLowerCase().includes(query)
                );
            }
            
            // Apply category filter
            if (activeCategory === 'restaurant') {
                filtered = filtered.filter(p => p.type === 'restaurant');
            } else if (activeCategory === 'cafe') {
                filtered = filtered.filter(p => p.type === 'cafe');
            }
            
            // Sort by rating
            filtered.sort((a, b) => b.rating - a.rating);
            
            // Update grid
            const exploreGrid = document.getElementById('exploreGrid');
            if (filtered.length === 0) {
                exploreGrid.innerHTML = `
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-search display-4 text-muted mb-3"></i>
                        <h5 class="empty-state-title">Tidak ada hasil ditemukan</h5>
                        <p class="empty-state-description">Coba dengan kata kunci yang berbeda</p>
                    </div>
                `;
            } else {
                exploreGrid.innerHTML = filtered.map(place => createGridPlaceCard(place)).join('');
            }
        }

        function createGridPlaceCard(place) {
            return `
                <div class="grid-place-card" onclick="showDetail(${place.id})">
                    <img src="${place.images[0]}" alt="${place.name}">
                    <div class="grid-place-card-content">
                        <h6 class="grid-place-card-title">${place.name}</h6>
                        <div class="grid-place-card-rating">
                            <i class="bi bi-star-fill"></i> ${place.rating}
                        </div>
                        <p class="grid-place-card-location">
                            <i class="bi bi-geo-alt"></i> ${place.distance} km
                        </p>
                        <button class="btn btn-primary btn-sm w-100 grid-place-card-button" onclick="event.stopPropagation(); showBookingForm(${place.id})">
                            <i class="bi bi-calendar-check me-1"></i> Reservasi
                        </button>
                    </div>
                </div>
            `;
        }

        function filterCategory(category) {
            activeCategory = category;
            
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Reload grid
            loadExploreGrid();
        }

        function searchPlaces() {
            loadExploreGrid();
        }

        // ========== BOOKING FORM ==========
        function showBookingForm(placeId) {
            const place = places.find(p => p.id === placeId);
            if (!place) return;
            
            currentReservationPlace = place;
            
            // Set form values
            document.getElementById('bookingPlaceName').value = place.name;
            document.getElementById('bookingPlaceId').value = place.id;
            
            // Set default date (tomorrow)
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('bookingDate').value = tomorrow.toISOString().split('T')[0];
            
            // Reset other fields
            document.getElementById('bookingTime').value = '';
            document.getElementById('bookingPeople').value = '';
            document.getElementById('bookingNotes').value = '';
            
            // Show modal
            const modal = new bootstrap.Modal(document.getElementById('bookingFormModal'));
            modal.show();
        }

        function submitBooking() {
            const placeId = parseInt(document.getElementById('bookingPlaceId').value);
            const date = document.getElementById('bookingDate').value;
            const time = document.getElementById('bookingTime').value;
            const people = document.getElementById('bookingPeople').value;
            const notes = document.getElementById('bookingNotes').value;
            
            if (!date || !time || !people) {
                showToast('Harap isi semua field yang wajib', 'error');
                return;
            }
            
            const place = places.find(p => p.id === placeId);
            if (!place) return;
            
            // Generate booking code
            const bookingCode = 'BK' + Date.now().toString().substr(-8);
            
            // Create booking
            const booking = {
                id: Date.now(),
                placeId: place.id,
                placeName: place.name,
                date: date,
                time: time,
                people: parseInt(people),
                notes: notes,
                status: "pending",
                bookingCode: bookingCode,
                createdAt: new Date().toISOString()
            };
            
            bookings.push(booking);
            localStorage.setItem('bookings', JSON.stringify(bookings));
            
            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('bookingFormModal'));
            modal.hide();
            
            // Show success message
            showToast('Reservasi berhasil dibuat! Status: Menunggu konfirmasi', 'success');
            
            // Navigate to bookings page
            setTimeout(() => {
                showPage('mybooking');
            }, 1500);
        }

        // ========== BOOKINGS PAGE ==========
        function loadBookings() {
            // Update tab display
            const tabs = ['upcoming', 'completed', 'cancelled'];
            tabs.forEach(tab => {
                const container = document.getElementById(tab + 'Bookings');
                const bookingsList = bookings.filter(b => getStatusCategory(b.status) === tab);
                
                if (bookingsList.length === 0) {
                    container.innerHTML = createEmptyState(tab);
                } else {
                    container.innerHTML = bookingsList.map(booking => createBookingCard(booking)).join('');
                }
            });
            
            // Show upcoming by default
            showBookingTab('upcoming');
        }

        function getStatusCategory(status) {
            switch(status) {
                case 'confirmed':
                case 'pending':
                    return 'upcoming';
                case 'completed':
                    return 'completed';
                case 'cancelled':
                    return 'cancelled';
                default:
                    return 'upcoming';
            }
        }

        function createBookingCard(booking) {
            const place = places.find(p => p.id === booking.placeId);
            if (!place) return '';
            
            const statusText = {
                'confirmed': 'Dikonfirmasi',
                'pending': 'Menunggu',
                'cancelled': 'Dibatalkan',
                'completed': 'Selesai'
            };
            
            const statusClass = {
                'confirmed': 'status-confirmed',
                'pending': 'status-pending',
                'cancelled': 'status-cancelled',
                'completed': 'status-completed'
            };
            
            return `
                <div class="booking-card ${booking.status}">
                    <div class="booking-card-header">
                        <img src="${place.images[0]}" alt="${place.name}" class="booking-card-img">
                        <div class="booking-card-info">
                            <h5 class="booking-card-title">${place.name}</h5>
                            <div class="booking-card-date">
                                <i class="bi bi-calendar me-1"></i> ${formatDate(booking.date)}
                            </div>
                            <div class="booking-card-date">
                                <i class="bi bi-clock me-1"></i> ${booking.time}
                            </div>
                            <div class="booking-card-people">
                                <i class="bi bi-people me-1"></i> ${booking.people} orang
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="booking-card-status ${statusClass[booking.status]}">
                            ${statusText[booking.status]}
                        </span>
                        <span class="text-muted" style="font-size: 0.8rem;">
                            Kode: ${booking.bookingCode}
                        </span>
                    </div>
                    <div class="booking-card-actions">
                        <button class="btn btn-outline-primary" onclick="showBookingDetail(${booking.id})">
                            <i class="bi bi-eye"></i> Detail
                        </button>
                        ${getBookingActions(booking.status, booking.id)}
                    </div>
                </div>
            `;
        }

        function getBookingActions(status, bookingId) {
            switch(status) {
                case 'confirmed':
                case 'pending':
                    return `
                        <button class="btn btn-outline-danger" onclick="cancelBooking(${bookingId})">
                            <i class="bi bi-x-circle"></i> Batalkan
                        </button>
                    `;
                case 'completed':
                    return `
                        <button class="btn btn-outline-success" onclick="bookAgain(${bookingId})">
                            <i class="bi bi-arrow-repeat"></i> Booking Lagi
                        </button>
                    `;
                case 'cancelled':
                    return `
                        <button class="btn btn-outline-primary" onclick="bookAgain(${bookingId})">
                            <i class="bi bi-arrow-repeat"></i> Booking Ulang
                        </button>
                    `;
                default:
                    return '';
            }
        }

        function createEmptyState(tab) {
            const messages = {
                'upcoming': 'Belum ada reservasi aktif',
                'completed': 'Belum ada riwayat reservasi',
                'cancelled': 'Belum ada reservasi yang dibatalkan'
            };
            
            const descriptions = {
                'upcoming': 'Yuk cari tempat favoritmu sekarang!',
                'completed': 'Booking tempat favoritmu untuk melihat riwayat',
                'cancelled': 'Semua reservasi aktif akan ditampilkan di sini'
            };
            
            return `
                <div class="empty-state">
                    <div class="empty-state-icon">
                        <i class="bi bi-calendar-x"></i>
                    </div>
                    <h5 class="empty-state-title">${messages[tab]}</h5>
                    <p class="empty-state-description">${descriptions[tab]}</p>
                    <button class="btn btn-primary" onclick="showPage('explore')">
                        <i class="bi bi-compass me-1"></i> Explore Resto & Caf√©
                    </button>
                </div>
            `;
        }

        function showBookingTab(tab) {
            // Hide all booking sections
            document.getElementById('upcomingBookings').classList.add('d-none');
            document.getElementById('completedBookings').classList.add('d-none');
            document.getElementById('cancelledBookings').classList.add('d-none');
            
            // Show selected section
            document.getElementById(tab + 'Bookings').classList.remove('d-none');
            
            // Update active tab
            document.querySelectorAll('.booking-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function showBookingDetail(bookingId) {
            const booking = bookings.find(b => b.id === bookingId);
            if (!booking) return;
            
            const place = places.find(p => p.id === booking.placeId);
            if (!place) return;
            
            currentBooking = booking;
            
            const modalContent = document.getElementById('bookingDetailContent');
            modalContent.innerHTML = `
                <div class="text-center mb-4">
                    <img src="${place.images[0]}" alt="${place.name}" style="width: 100%; height: 150px; object-fit: cover; border-radius: 10px;">
                </div>
                <h5>${place.name}</h5>
                <p class="text-muted">${place.address}</p>
                
                <div class="row mt-4">
                    <div class="col-6">
                        <div class="mb-3">
                            <small class="text-muted">Tanggal</small>
                            <div><i class="bi bi-calendar me-2"></i>${formatDate(booking.date)}</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mb-3">
                            <small class="text-muted">Waktu</small>
                            <div><i class="bi bi-clock me-2"></i>${booking.time}</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mb-3">
                            <small class="text-muted">Jumlah Orang</small>
                            <div><i class="bi bi-people me-2"></i>${booking.people} orang</div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mb-3">
                            <small class="text-muted">Kode Booking</small>
                            <div><i class="bi bi-ticket me-2"></i>${booking.bookingCode}</div>
                        </div>
                    </div>
                </div>
                
                ${booking.notes ? `
                <div class="mt-3">
                    <h6>Catatan Khusus</h6>
                    <p class="text-muted">${booking.notes}</p>
                </div>
                ` : ''}
                
                <div class="mt-4">
                    <h6>Catatan</h6>
                    <p class="text-muted">Silakan datang 15 menit sebelum waktu reservasi.</p>
                </div>
            `;
            
            const modal = new bootstrap.Modal(document.getElementById('bookingDetailModal'));
            modal.show();
        }

        function viewQRCode() {
            if (!currentBooking) return;
            
            document.getElementById('bookingCodeDisplay').textContent = currentBooking.bookingCode;
            
            const modal = new bootstrap.Modal(document.getElementById('qrCodeModal'));
            modal.show();
            
            // Close booking detail modal
            const bookingModal = bootstrap.Modal.getInstance(document.getElementById('bookingDetailModal'));
            bookingModal.hide();
        }

        function cancelBooking(bookingId) {
            if (confirm('Yakin ingin membatalkan reservasi ini?')) {
                const bookingIndex = bookings.findIndex(b => b.id === bookingId);
                if (bookingIndex !== -1) {
                    bookings[bookingIndex].status = 'cancelled';
                    localStorage.setItem('bookings', JSON.stringify(bookings));
                    loadBookings();
                    showToast('Reservasi berhasil dibatalkan', 'success');
                }
            }
        }

        function bookAgain(bookingId) {
            const booking = bookings.find(b => b.id === bookingId);
            if (!booking) return;
            
            showBookingForm(booking.placeId);
        }

        // ========== PROFILE PAGE ==========
        function loadProfile() {
            if (!currentUser) {
                // Show guest state
                document.getElementById('guestState').classList.remove('d-none');
                document.querySelector('.profile-header').classList.add('d-none');
                document.querySelectorAll('.profile-menu').forEach(el => el.classList.add('d-none'));
                document.querySelector('.logout-btn').classList.add('d-none');
                return;
            }
            
            // Show logged in state
            document.getElementById('guestState').classList.add('d-none');
            document.querySelector('.profile-header').classList.remove('d-none');
            document.querySelectorAll('.profile-menu').forEach(el => el.classList.remove('d-none'));
            document.querySelector('.logout-btn').classList.remove('d-none');
            
            // Update profile info
            document.getElementById('profileName').textContent = currentUser.name || 'User';
            document.getElementById('profileEmail').textContent = currentUser.email || '-';
            document.getElementById('profilePhone').textContent = currentUser.phone || '-';
            document.getElementById('profileImage').src = currentUser.photo || `https://ui-avatars.com/api/?name=${encodeURIComponent(currentUser.name || 'User')}&background=63b9f3&color=fff`;
        }

        // ========== CHAT BOT PAGE ==========
        function loadChatBot() {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.innerHTML = `
                <div class="message bot">
                    <div class="message-content">
                        Halo! Saya Reservin Bot ü§ñ<br>
                        Ada yang bisa saya bantu?
                    </div>
                    <div class="message-time">Baru saja</div>
                    
                    <!-- Quick Options -->
                    <div class="quick-options">
                        <div class="quick-option" onclick="sendQuickMessage('Bagaimana cara reservasi?')">Cara Reservasi</div>
                        <div class="quick-option" onclick="sendQuickMessage('Bagaimana membatalkan booking?')">Batalkan Booking</div>
                        <div class="quick-option" onclick="sendQuickMessage('Jam operasional resto?')">Jam Operasional</div>
                        <div class="quick-option" onclick="sendQuickMessage('Ada promo saat ini?')">Promo Terbaru</div>
                    </div>
                </div>
            `;
            
            // Scroll to bottom
            setTimeout(() => {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 100);
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, 'user');
            
            // Clear input
            input.value = '';
            
            // Simulate bot response
            setTimeout(() => {
                const botResponse = getBotResponse(message);
                addMessage(botResponse, 'bot');
            }, 1000);
        }

        function sendQuickMessage(message) {
            // Add user message
            addMessage(message, 'user');
            
            // Simulate bot response
            setTimeout(() => {
                const botResponse = getBotResponse(message);
                addMessage(botResponse, 'bot');
            }, 1000);
        }

        function addMessage(message, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `
                <div class="message-content">${message}</div>
                <div class="message-time">${time}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function getBotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('reservasi') || lowerMessage.includes('booking') || lowerMessage.includes('cara')) {
                return "Untuk melakukan reservasi:<br>1. Cari restoran/cafe di halaman Explore<br>2. Klik tombol 'Reservasi'<br>3. Isi tanggal, waktu, dan jumlah orang<br>4. Konfirmasi reservasi Anda";
            } else if (lowerMessage.includes('batal') || lowerMessage.includes('cancel')) {
                return "Untuk membatalkan booking:<br>1. Buka halaman Bookings<br>2. Pilih booking yang ingin dibatalkan<br>3. Klik tombol 'Batalkan'<br>4. Konfirmasi pembatalan<br><br>Note: Batalkan minimal 2 jam sebelum waktu reservasi";
            } else if (lowerMessage.includes('jam') || lowerMessage.includes('operasional')) {
                return "Jam operasional umum restoran & cafe di Reservin:<br>üïí Senin - Jumat: 10:00 - 22:00<br>üïí Sabtu - Minggu: 09:00 - 23:00<br><br>Jam operasional spesifik bisa berbeda di setiap tempat. Lihat detail tempat untuk info lebih lanjut.";
            } else if (lowerMessage.includes('promo') || lowerMessage.includes('diskon')) {
                return "Promo terbaru saat ini:<br>üéÅ Diskon 20% di Kelana Cafe<br>üéÅ Buy 1 Get 1 di Communion Cafe<br>üéÅ Paket keluarga spesial di Xin Xin Resto<br><br>Cek halaman Home untuk promo lengkap!";
            } else if (lowerMessage.includes('kontak') || lowerMessage.includes('hubungi')) {
                return "Anda bisa menghubungi kami melalui:<br>üìß Email: support@reservin.com<br>üì± Telepon: (0271) 1234-5678<br>üè¢ Alamat: Jl. Contoh No. 123, Solo";
            } else {
                return "Maaf, saya belum memahami pertanyaan Anda. Silakan tanyakan tentang:<br>‚Ä¢ Cara reservasi<br>‚Ä¢ Pembatalan booking<br>‚Ä¢ Jam operasional<br>‚Ä¢ Promo terbaru<br>‚Ä¢ Kontak kami";
            }
        }

        // ========== PROFILE MODAL FUNCTIONS ==========
        function showEditProfileModal() {
            if (!currentUser) return;
            
            document.getElementById('editProfileName').value = currentUser.name || '';
            document.getElementById('editProfileEmail').value = currentUser.email || '';
            document.getElementById('editProfilePhone').value = currentUser.phone || '';
            document.getElementById('editProfileImage').src = currentUser.photo || `https://ui-avatars.com/api/?name=${encodeURIComponent(currentUser.name || 'User')}&background=63b9f3&color=fff`;
            document.getElementById('editProfilePassword').value = '';
            document.getElementById('editProfileConfirmPassword').value = '';
            
            const modal = new bootstrap.Modal(document.getElementById('editProfileModal'));
            modal.show();
        }

        function takePhoto() {
            showToast('Fitur kamera akan segera hadir!', 'info');
        }

        function chooseFromGallery() {
            showToast('Fitur galeri akan segera hadir!', 'info');
        }

        function saveProfile() {
            const name = document.getElementById('editProfileName').value;
            const email = document.getElementById('editProfileEmail').value;
            const phone = document.getElementById('editProfilePhone').value;
            const password = document.getElementById('editProfilePassword').value;
            const confirmPassword = document.getElementById('editProfileConfirmPassword').value;
            
            if (!name || !email) {
                showToast('Nama dan email harus diisi', 'error');
                return;
            }
            
            if (password && password !== confirmPassword) {
                showToast('Kata sandi baru tidak cocok', 'error');
                return;
            }
            
            // Update user data
            currentUser.name = name;
            currentUser.email = email;
            currentUser.phone = phone;
            
            // Update password if provided
            if (password) {
                let users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.email === currentUser.email);
                if (userIndex !== -1) {
                    users[userIndex].password = btoa(password);
                    localStorage.setItem('users', JSON.stringify(users));
                }
            }
            
            localStorage.setItem('session', JSON.stringify(currentUser));
            
            const modal = bootstrap.Modal.getInstance(document.getElementById('editProfileModal'));
            modal.hide();
            
            loadProfile();
            showToast('Profile berhasil diperbarui', 'success');
        }

        function showSettings() {
            // Load current settings
            document.getElementById('locationSelect').value = localStorage.getItem('location') || 'solo';
            document.getElementById('languageSelect').value = localStorage.getItem('language') || 'id';
            document.getElementById('reminderSwitch').checked = localStorage.getItem('reminderNotifications') !== 'false';
            document.getElementById('promoSwitch').checked = localStorage.getItem('promoNotifications') !== 'false';
            document.getElementById('updateSwitch').checked = localStorage.getItem('updateNotifications') !== 'false';
            
            const modal = new bootstrap.Modal(document.getElementById('settingsModal'));
            modal.show();
        }

        function toggleDarkModeFromSwitch() {
            toggleDarkMode();
            const isDark = document.body.classList.contains('dark-mode');
            document.getElementById('darkModeLabel').textContent = isDark ? 'Mode Terang' : 'Mode Gelap';
            
            // Save other settings
            saveSettings();
        }

        function saveSettings() {
            localStorage.setItem('location', document.getElementById('locationSelect').value);
            localStorage.setItem('language', document.getElementById('languageSelect').value);
            localStorage.setItem('reminderNotifications', document.getElementById('reminderSwitch').checked);
            localStorage.setItem('promoNotifications', document.getElementById('promoSwitch').checked);
            localStorage.setItem('updateNotifications', document.getElementById('updateSwitch').checked);
            
            showToast('Pengaturan berhasil disimpan', 'success');
        }

        function showFAQ() {
            const modal = new bootstrap.Modal(document.getElementById('faqModal'));
            modal.show();
        }

        function showAbout() {
            const modal = new bootstrap.Modal(document.getElementById('aboutModal'));
            modal.show();
        }

        // ========== DETAIL PAGE FUNCTIONS ==========
        function showDetail(placeId) {
            const place = places.find(p => p.id === placeId);
            if (!place) return;
            
            // Add to last viewed
            const index = lastViewed.indexOf(placeId);
            if (index !== -1) {
                lastViewed.splice(index, 1);
            }
            lastViewed.unshift(placeId);
            lastViewed = lastViewed.slice(0, 10);
            localStorage.setItem('lastViewed', JSON.stringify(lastViewed));
            
            const detailHTML = `
                <div class="text-center mb-4">
                    <img src="${place.images[0]}" alt="${place.name}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 10px;">
                </div>
                <div class="d-flex justify-content-between align-items-start mb-3">
                    <div>
                        <h5>${place.name}</h5>
                        <div class="d-flex align-items-center">
                            <span class="badge bg-primary me-2">${place.type === 'restaurant' ? 'Restoran' : 'Cafe'}</span>
                            <span><i class="bi bi-star-fill text-warning me-1"></i>${place.rating}</span>
                            <span class="text-muted ms-2">(${Math.floor(Math.random() * 100) + 50} ulasan)</span>
                        </div>
                    </div>
                </div>
                <p>${place.description}</p>
                <div class="mb-3">
                    <h6>üìç Alamat</h6>
                    <p class="text-muted">${place.address}</p>
                </div>
                <div class="mb-3">
                    <h6>üìû Telepon</h6>
                    <p class="text-muted">${place.phone}</p>
                </div>
                <div class="mb-4">
                    <h6>üïí Jam Operasional</h6>
                    <p class="text-muted">${place.open ? '10:00 - 22:00' : 'Tutup sementara'}</p>
                </div>
                ${place.promo ? `
                <div class="alert alert-success">
                    <i class="bi bi-tag-fill me-2"></i>
                    <strong>Promo:</strong> ${place.promo}
                </div>
                ` : ''}
                <button class="btn btn-primary w-100 py-3" onclick="showBookingForm(${place.id})">
                    <i class="bi bi-calendar-check me-2"></i> Reservasi Sekarang
                </button>
            `;
            
            // Create and show modal
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.id = 'detailModal';
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Detail Tempat</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            ${detailHTML}
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            const modalInstance = new bootstrap.Modal(modal);
            modalInstance.show();
            
            modal.addEventListener('hidden.bs.modal', function () {
                document.body.removeChild(modal);
            });
        }

        // ========== AUTHENTICATION ==========
        function hashPassword(password) {
            return btoa(password);
        }

        function register(e) {
            e.preventDefault();
            
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const phone = document.getElementById('regPhone').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            
            // Validation
            if (password !== confirmPassword) {
                showToast('Password tidak cocok', 'error');
                return;
            }
            
            if (password.length < 6) {
                showToast('Password minimal 6 karakter', 'error');
                return;
            }
            
            let users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if (users.find(u => u.email === email)) {
                showToast('Email sudah terdaftar', 'error');
                return;
            }
            
            // Create user
            const user = {
                id: Date.now(),
                name,
                email,
                phone,
                password: hashPassword(password),
                photo: `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=63b9f3&color=fff`,
                createdAt: new Date().toISOString()
            };
            
            users.push(user);
            localStorage.setItem('users', JSON.stringify(users));
            
            // Auto login
            const session = {
                ...user,
                rememberMe: true,
                loginTime: new Date().toISOString()
            };
            delete session.password;
            
            currentUser = session;
            localStorage.setItem('session', JSON.stringify(session));
            
            showToast('Registrasi berhasil!', 'success');
            showApp();
        }

        function login(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const rememberMe = document.getElementById('rememberMe').checked;
            
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === hashPassword(password));
            
            if (!user) {
                showToast('Email atau password salah', 'error');
                return;
            }
            
            // Create session
            const session = {
                id: user.id,
                name: user.name,
                email: user.email,
                phone: user.phone,
                photo: user.photo,
                rememberMe: rememberMe,
                loginTime: new Date().toISOString()
            };
            
            currentUser = session;
            localStorage.setItem('session', JSON.stringify(session));
            
            showToast('Login berhasil!', 'success');
            showApp();
        }

        function logout() {
            if (confirm('Apakah Anda yakin ingin keluar?')) {
                localStorage.removeItem('session');
                currentUser = null;
                showWelcomePage();
                showToast('Anda telah logout', 'info');
            }
        }

        // ========== UTILITIES ==========
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            
            const icon = document.querySelector('#darkModeBtn i');
            if (isDark) {
                icon.classList.remove('bi-moon-fill');
                icon.classList.add('bi-sun-fill');
            } else {
                icon.classList.remove('bi-sun-fill');
                icon.classList.add('bi-moon-fill');
            }
        }

        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `
                <div class="d-flex align-items-center">
                    <i class="bi ${type === 'success' ? 'bi-check-circle' : type === 'error' ? 'bi-exclamation-circle' : 'bi-info-circle'} me-2"></i>
                    <span>${message}</span>
                </div>
            `;
            
            const container = document.getElementById('toastContainer');
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { weekday: 'short', day: 'numeric', month: 'short', year: 'numeric' };
            return date.toLocaleDateString('id-ID', options);
        }

        function showForgotPassword() {
            showToast('Fitur lupa password akan segera hadir!', 'info');
        }

        function setupEventListeners() {
            // Login form
            document.getElementById('loginForm')?.addEventListener('submit', login);
            
            // Register form
            document.getElementById('registerForm')?.addEventListener('submit', register);
            
            // Save settings when leaving modal
            document.getElementById('settingsModal')?.addEventListener('hidden.bs.modal', saveSettings);
            
            // Chat input enter key
            document.getElementById('chatInput')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendChatMessage();
                }
            });
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>