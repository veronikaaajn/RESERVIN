<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#03A6A6">
    <title>Reservin - Reservasi Restoran Solo</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="manifest" href="#" id="manifest-placeholder">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary: #03A6A6;
            --secondary: #000000;
            --success: #FEEE91;
            --danger: #ED3F27;
            --light: #ffffff;
            --dark: #000000;
        }
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            padding-top: 70px;
        }
        
        body.dark-mode {
            background-color: #1a1a1a;
            color: var(--light);
        }
        
        body.dark-mode .card {
            background-color: #2a2a2a;
            color: var(--light);
        }
        
        body.dark-mode .navbar {
            background-color: #2a2a2a !important;
        }
        
        body.dark-mode .form-control,
        body.dark-mode .form-select {
            background-color: #3a3a3a;
            color: var(--light);
            border-color: #4a4a4a;
        }
        
        .navbar-custom {
            background-color: var(--light);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .navbar-brand img {
            height: 40px;
        }
        
        .carousel-promo {
            height: 200px;
            object-fit: cover;
        }
        
        .nav-tabs .nav-link {
            color: var(--secondary);
            border: none;
            font-weight: 500;
        }
        
        body.dark-mode .nav-tabs .nav-link {
            color: var(--light);
        }
        
        .nav-tabs .nav-link.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
            background: transparent;
        }
        
        .resto-card {
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border-radius: 15px;
            overflow: hidden;
            height: 100%;
        }
        
        .resto-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .resto-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .btn-primary-custom {
            background-color: var(--primary);
            border: none;
            color: white;
            padding: 10px 30px;
            border-radius: 50px;
            font-weight: 500;
        }
        
        .btn-primary-custom:hover {
            background-color: #028a8a;
        }
        
        .btn-danger-custom {
            background-color: var(--danger);
            border: none;
            color: white;
            padding: 10px 30px;
            border-radius: 50px;
        }
        
        .booking-badge {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .badge-upcoming {
            background-color: #ffc107;
            color: #000;
        }
        
        .badge-completed {
            background-color: #28a745;
            color: white;
        }
        
        .badge-cancelled {
            background-color: var(--danger);
            color: white;
        }
        
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            display: block;
        }
        
        .theme-toggle {
            cursor: pointer;
            font-size: 20px;
            color: var(--secondary);
        }
        
        body.dark-mode .theme-toggle {
            color: var(--light);
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .profile-img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid var(--primary);
        }
        
        .list-group-item {
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .list-group-item:hover {
            background-color: #f0f0f0;
        }
        
        body.dark-mode .list-group-item {
            background-color: #2a2a2a;
            border-color: #3a3a3a;
            color: var(--light);
        }
        
        body.dark-mode .list-group-item:hover {
            background-color: #3a3a3a;
        }
        
        .search-modal .modal-content {
            border-radius: 15px;
        }
        
        .search-result-item {
            padding: 15px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: background-color 0.3s;
        }
        
        .search-result-item:hover {
            background-color: #f8f9fa;
        }
        
        body.dark-mode .search-result-item {
            border-bottom-color: #3a3a3a;
        }
        
        body.dark-mode .search-result-item:hover {
            background-color: #3a3a3a;
        }
        
        .rating-star {
            color: #ffc107;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand navbar-custom fixed-top">
        <div class="container-fluid">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="showPage('homePage')">
                        <i class="bi bi-house-fill"></i> Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="showPage('myBookingPage')">
                        <i class="bi bi-calendar-check"></i> My Booking
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="showPage('profilePage')">
                        <i class="bi bi-person-fill"></i> Profile
                    </a>
                </li>
            </ul>
            
            <a class="navbar-brand mx-auto" href="#" onclick="showPage('homePage')">
                <img src="logo/gambar1.jpg">
            </a>
            
            <ul class="navbar-nav ms-auto">
                <li class="nav-item me-3">
                    <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#searchModal">
                        <i class="bi bi-search"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <span class="nav-link theme-toggle" onclick="toggleTheme()">
                        <i class="bi bi-moon-fill" id="themeIcon"></i>
                    </span>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Search Modal -->
    <div class="modal fade search-modal" id="searchModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Cari Restoran / Cafe</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="text" class="form-control mb-3" id="searchInput" placeholder="Ketik nama restoran atau cafe..." oninput="performSearch()">
                    <div id="searchResults"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Home Page -->
    <div class="page active" id="homePage">
        <div class="container mt-4">
            <!-- Carousel Promo -->
            <div id="promoCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#promoCarousel" data-bs-slide-to="0" class="active"></button>
                    <button type="button" data-bs-target="#promoCarousel" data-bs-slide-to="1"></button>
                    <button type="button" data-bs-target="#promoCarousel" data-bs-slide-to="2"></button>
                </div>
                <div class="carousel-inner rounded">
                    <div class="carousel-item active">
                        <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800" class="d-block w-100 carousel-promo" alt="Promo 1">
                        <div class="carousel-caption">
                            <h5>Diskon 30% Semua Menu</h5>
                            <p>Berlaku hingga 31 Desember</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800" class="d-block w-100 carousel-promo" alt="Promo 2">
                        <div class="carousel-caption">
                            <h5>Buy 1 Get 1 Free</h5>
                            <p>Khusus member baru</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=800" class="d-block w-100 carousel-promo" alt="Promo 3">
                        <div class="carousel-caption">
                            <h5>Gratis Dessert</h5>
                            <p>Minimum pembelian 100k</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#promoCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#promoCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>

            <!-- Tabs Resto/Cafe -->
            <ul class="nav nav-tabs mb-4" id="categoryTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="resto-tab" data-bs-toggle="tab" data-bs-target="#resto" type="button">
                        Restoran
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="cafe-tab" data-bs-toggle="tab" data-bs-target="#cafe" type="button">
                        Cafe
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="categoryTabContent">
                <div class="tab-pane fade show active" id="resto" role="tabpanel">
                    <h5 class="mb-3">Rekomendasi Restoran (7 Hari Terakhir)</h5>
                    <div class="row" id="restoList"></div>
                </div>
                <div class="tab-pane fade" id="cafe" role="tabpanel">
                    <h5 class="mb-3">Rekomendasi Cafe (7 Hari Terakhir)</h5>
                    <div class="row" id="cafeList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Detail Page -->
    <div class="page" id="detailPage">
        <div class="container mt-4">
            <button class="btn btn-link text-decoration-none mb-3" onclick="showPage('homePage')">
                <i class="bi bi-arrow-left"></i> Kembali
            </button>
            <div id="detailContent"></div>
        </div>
    </div>

    <!-- Booking Form Page -->
    <div class="page" id="bookingFormPage">
        <div class="container mt-4">
            <button class="btn btn-link text-decoration-none mb-3" onclick="showPage('detailPage')">
                <i class="bi bi-arrow-left"></i> Kembali
            </button>
            <h4 class="mb-4">Buat Reservasi</h4>
            <div class="card">
                <div class="card-body">
                    <form id="bookingForm" onsubmit="submitBooking(event)">
                        <div class="mb-3">
                            <label class="form-label">Nama Lengkap</label>
                            <input type="text" class="form-control" id="bookingName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Tanggal</label>
                            <input type="date" class="form-control" id="bookingDate" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Waktu</label>
                            <input type="time" class="form-control" id="bookingTime" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Jumlah Orang</label>
                            <input type="number" class="form-control" id="bookingPeople" min="1" max="20" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Catatan (Opsional)</label>
                            <textarea class="form-control" id="bookingNotes" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary-custom w-100">Konfirmasi Booking</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- My Booking Page -->
    <div class="page" id="myBookingPage">
        <div class="container mt-4">
            <h4 class="mb-4">My Booking</h4>
            
            <ul class="nav nav-pills mb-4" id="bookingTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="upcoming-tab" data-bs-toggle="pill" data-bs-target="#upcoming" type="button">
                        Upcoming
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="completed-tab" data-bs-toggle="pill" data-bs-target="#completed" type="button">
                        Completed
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="cancelled-tab" data-bs-toggle="pill" data-bs-target="#cancelled" type="button">
                        Cancelled
                    </button>
                </li>
            </ul>

            <div class="tab-content" id="bookingTabContent">
                <div class="tab-pane fade show active" id="upcoming" role="tabpanel">
                    <div id="upcomingBookings"></div>
                </div>
                <div class="tab-pane fade" id="completed" role="tabpanel">
                    <div id="completedBookings"></div>
                </div>
                <div class="tab-pane fade" id="cancelled" role="tabpanel">
                    <div id="cancelledBookings"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Detail Page -->
    <div class="page" id="bookingDetailPage">
        <div class="container mt-4">
            <button class="btn btn-link text-decoration-none mb-3" onclick="showPage('myBookingPage')">
                <i class="bi bi-arrow-left"></i> Kembali
            </button>
            <div id="bookingDetailContent"></div>
        </div>
    </div>

    <!-- Profile Page -->
    <div class="page" id="profilePage">
        <div class="container mt-4">
            <h4 class="mb-4">Profil Saya</h4>
            
            <div class="card mb-4">
                <div class="card-body text-center">
                    <img src="https://ui-avatars.com/api/?name=User&size=120&background=03A6A6&color=fff" class="profile-img mb-3" id="profileImage" alt="Profile">
                    <h5 id="profileName">Nama Pengguna</h5>
                    <p class="text-muted mb-2" id="profileEmail">email@example.com</p>
                    <p class="text-muted" id="profilePhone">+62 812-3456-7890</p>
                    <button class="btn btn-primary-custom" onclick="showEditProfile()">
                        <i class="bi bi-pencil"></i> Edit Profile
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="list-group list-group-flush">
                    <a href="#" class="list-group-item list-group-item-action" onclick="showChangePassword()">
                        <i class="bi bi-key me-2"></i> Ubah Password
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showNotificationSettings()">
                        <i class="bi bi-bell me-2"></i> Pengaturan Notifikasi
                    </a>
                    <a href="#" class="list-group-item list-group-item-action" onclick="showLanguageSettings()">
                        <i class="bi bi-translate me-2"></i> Bahasa
                    </a>
                    <a href="#" class="list-group-item list-group-item-action text-danger" onclick="logout()">
                        <i class="bi bi-box-arrow-right me-2"></i> Logout
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editProfileForm" onsubmit="saveProfile(event)">
                        <div class="mb-3">
                            <label class="form-label">Nama</label>
                            <input type="text" class="form-control" id="editName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" id="editEmail" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nomor Telepon</label>
                            <input type="tel" class="form-control" id="editPhone" required>
                        </div>
                        <button type="submit" class="btn btn-primary-custom w-100">Simpan</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Data Restoran (25 Restoran)
        const restaurants = [
            { id: 1, name: "Omah Sinten Heritage", category: "restaurant", image: "logo/ademayem.JPG", rating: 4.8, location: "Jl. Adisucipto No. 47, Solo", phone: "0271-714444", description: "Restoran dengan konsep heritage yang menyajikan masakan tradisional dan modern dalam suasana klasik nan elegan.", visits: 156 },
            { id: 2, name: "Soga Resto", category: "restaurant", image: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600", rating: 4.7, location: "Jl. Slamet Riyadi No. 261, Solo", phone: "0271-646356", description: "Restoran mewah dengan menu Indonesia dan Western, dilengkapi live music untuk pengalaman bersantap yang berkesan.", visits: 142 },
            { id: 3, name: "Warunk UpNormal", category: "restaurant", image: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600", rating: 4.6, location: "Solo Paragon Mall Lt. 2", phone: "0271-123456", description: "Konsep warung modern dengan menu Indomie kreatif dan berbagai minuman segar yang unik.", visits: 134 },
            { id: 4, name: "Selat Mbak Lies", category: "restaurant", image: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=600", rating: 4.5, location: "Jl. S. Parman No. 10, Solo", phone: "0271-654321", description: "Restoran legendaris yang menyajikan selat Solo khas dengan resep turun temurun.", visits: 128 },
            { id: 5, name: "Timlo Sastro", category: "restaurant", image: "https://images.unsplash.com/photo-1559339352-11d035aa65de?w=600", rating: 4.8, location: "Jl. Kapten Mulyadi No. 69, Solo", phone: "0271-632989", description: "Tempat terbaik untuk menikmati timlo Solo yang otentik dengan cita rasa yang kaya.", visits: 145 },
            { id: 6, name: "Bengawan Solo Restaurant", category: "restaurant", image: "https://images.unsplash.com/photo-1552566626-52f8b828add9?w=600", rating: 4.6, location: "Jl. Ronggowarsito No. 127, Solo", phone: "0271-638555", description: "Restoran dengan pemandangan sungai Bengawan Solo, menu tradisional dan seafood.", visits: 118 },
            { id: 7, name: "Omah Semar", category: "restaurant", image: "https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?w=600", rating: 4.4, location: "Jl. Veteran No. 245, Solo", phone: "0271-712345", description: "Restoran berkonsep rumah tradisional dengan menu masakan Jawa yang lezat.", visits: 112 },
            { id: 8, name: "Adem Ayem", category: "restaurant", image: "logo/ademayem.JPG", rating: 4.7, location: "Jl. Letjen S. Parman No. 54, Solo", phone: "0271-654789", description: "Tempat makan dengan suasana tenang dan menu khas Solo yang menggugah selera.", visits: 125 },
            { id: 9, name: "Boga Catering", category: "restaurant", image: "https://images.unsplash.com/photo-1578474846511-04ba529f0b88?w=600", rating: 4.5, location: "Jl. Dr. Radjiman No. 201, Solo", phone: "0271-632000", description: "Restoran dengan berbagai pilihan menu buffet dan prasmanan untuk acara spesial.", visits: 108 },
            { id: 10, name: "Wedangan Pendopo", category: "restaurant", image: "https://images.unsplash.com/photo-1592861956120-e524fc739696?w=600", rating: 4.6, location: "Jl. Diponegoro No. 56, Solo", phone: "0271-645111", description: "Restoran dengan konsep pendopo Jawa, menu tradisional dan minuman wedang.", visits: 115 },
            { id: 11, name: "Kuliner Bahari", category: "restaurant", image: "https://images.unsplash.com/photo-1559339352-11d035aa65de?w=600", rating: 4.4, location: "Jl. Monginsidi No. 78, Solo", phone: "0271-623456", description: "Spesialis seafood dengan cita rasa laut yang segar dan bumbu rempah khas.", visits: 102 },
            { id: 12, name: "Gudeg Yu Djum", category: "restaurant", image: "https://images.unsplash.com/photo-1565299507177-b0ac66763828?w=600", rating: 4.9, location: "Jl. Teuku Umar No. 88, Solo", phone: "0271-634567", description: "Gudeg legendaris dengan rasa manis gurih yang sempurna, wajib dicoba.", visits: 167 },
            { id: 13, name: "Roemah Keboen", category: "restaurant", image: "https://images.unsplash.com/photo-1552566626-52f8b828add9?w=600", rating: 4.5, location: "Jl. Gatot Subroto No. 23, Solo", phone: "0271-712890", description: "Konsep garden restaurant dengan suasana alami dan menu fusion Indonesia-Barat.", visits: 110 },
            { id: 14, name: "Depot Es Bu Nanik", category: "restaurant", image: "https://images.unsplash.com/photo-1551024506-0bccd828d307?w=600", rating: 4.3, location: "Jl. Yos Sudarso No. 45, Solo", phone: "0271-698765", description: "Terkenal dengan es campur dan aneka es buah yang menyegarkan.", visits: 98 },
            { id: 15, name: "Sate Kere Yu Rebi", category: "restaurant", image: "https://images.unsplash.com/photo-1529042410759-befb1204b468?w=600", rating: 4.6, location: "Jl. Kol. Sutarto No. 12, Solo", phone: "0271-687654", description: "Sate kere khas Solo dengan bumbu kacang yang gurih dan dagingnya empuk.", visits: 121 },
            { id: 16, name: "Nasi Liwet Wongso Lemu", category: "restaurant", image: "https://images.unsplash.com/photo-1512058564366-18510be2db19?w=600", rating: 4.8, location: "Pasar Gede, Solo", phone: "0271-632111", description: "Nasi liwet Solo otentik dengan lauk lengkap dan sambal yang pedas mantap.", visits: 149 },
            { id: 17, name: "Ayam Goreng Mbah Karto", category: "restaurant", image: "https://images.unsplash.com/photo-1598103442097-8b74394b95c6?w=600", rating: 4.4, location: "Jl. Ahmad Dahlan No. 67, Solo", phone: "0271-645888", description: "Ayam goreng kremes dengan bumbu meresap hingga ke dalam, renyah di luar.", visits: 106 },
            { id: 18, name: "Bebek Goreng H. Slamet", category: "restaurant", image: "https://images.unsplash.com/photo-1589302168068-964664d93dc0?w=600", rating: 4.7, location: "Jl. Brigjend Katamso No. 34, Solo", phone: "0271-654333", description: "Bebek goreng dan bakar dengan sambal yang pedas nikmat, daging empuk.", visits: 132 },
            { id: 19, name: "Pecel Madiun Putra", category: "restaurant", image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=600", rating: 4.3, location: "Jl. Dr. Wahidin No. 89, Solo", phone: "0271-623777", description: "Pecel dengan sambal kacang kental dan sayuran segar yang bergizi.", visits: 95 },
            { id: 20, name: "Serabi Notosuman", category: "restaurant", image: "https://images.unsplash.com/photo-1587314168485-3236d6710814?w=600", rating: 4.7, location: "Jl. Moh. Yamin No. 28, Solo", phone: "0271-632444", description: "Serabi Solo legendaris dengan berbagai topping manis dan gurih.", visits: 138 },
            { id: 21, name: "Bestik Solo Pak Parjo", category: "restaurant", image: "https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=600", rating: 4.5, location: "Jl. Teuku Umar No. 15, Solo", phone: "0271-657890", description: "Bestik khas Solo dengan daging sapi empuk dan saus yang khas.", visits: 114 },
            { id: 22, name: "Soto Gading Mbak Lin", category: "restaurant", image: "https://images.unsplash.com/photo-1551183053-bf91a1d81141?w=600", rating: 4.6, location: "Jl. Brigjen Slamet Riyadi, Solo", phone: "0271-643210", description: "Soto ayam dengan kuah bening yang gurih dan daging ayam yang lembut.", visits: 127 },
            { id: 23, name: "Tengkleng Pak Manto", category: "restaurant", image: "https://images.unsplash.com/photo-1547592166-23ac45744acd?w=600", rating: 4.4, location: "Jl. Veteran No. 156, Solo", phone: "0271-689123", description: "Tengkleng kambing dengan kuah santan yang gurih dan bumbu meresap.", visits: 104 },
            { id: 24, name: "Tahu Kupat Pak Bambang", category: "restaurant", image: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=600", rating: 4.3, location: "Jl. Jend. Sudirman No. 92, Solo", phone: "0271-621555", description: "Tahu kupat dengan kuah santan kental dan lontong yang lembut.", visits: 97 },
            { id: 25, name: "Bakso Pak Kumis", category: "restaurant", image: "https://images.unsplash.com/photo-1575483344199-d6a2c19f1f1d?w=600", rating: 4.5, location: "Jl. Urip Sumoharjo No. 101, Solo", phone: "0271-634999", description: "Bakso jumbo dengan kuah kaldu sapi yang kaya rasa dan isian melimpah.", visits: 119 }
        ];

        // Data Cafe (25 Cafe)
        const cafes = [
            { id: 26, name: "Goela Klapa", category: "cafe", image: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=600", rating: 4.6, location: "Jl. Yosodipuro No. 111, Solo", phone: "0271-712333", description: "Cafe vintage dengan interior klasik, kopi berkualitas dan dessert yang menggoda.", visits: 141 },
            { id: 27, name: "Lokali Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?w=600", rating: 4.7, location: "Jl. Ir. Sutami No. 38, Solo", phone: "0271-645222", description: "Specialty coffee dengan berbagai metode brewing dan menu breakfast all day.", visits: 153 },
            { id: 28, name: "Kopi Klotok", category: "cafe", image: "https://images.unsplash.com/photo-1511920170033-f8396924c348?w=600", rating: 4.5, location: "Jl. Gatot Subroto No. 47, Solo", phone: "0271-632888", description: "Kopi tradisional disajikan dengan cara unik menggunakan kompor minyak tanah.", visits: 129 },
            { id: 29, name: "Warkop Tiga Tjeret", category: "cafe", image: "https://images.unsplash.com/photo-1559496417-e7f25c36d20a?w=600", rating: 4.4, location: "Jl. Dr. Radjiman No. 88, Solo", phone: "0271-623999", description: "Warkop dengan konsep modern, kopi robusta dan arabika pilihan.", visits: 117 },
            { id: 30, name: "Mino Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=600", rating: 4.6, location: "Jl. Adi Sucipto No. 156, Solo", phone: "0271-654777", description: "Cafe minimalis dengan menu kopi manual brew dan light snacks.", visits: 136 },
            { id: 31, name: "Ombe Kofie", category: "cafe", image: "https://images.unsplash.com/photo-1442512595331-e89e73853f31?w=600", rating: 4.7, location: "Jl. Slamet Riyadi No. 345, Solo", phone: "0271-643555", description: "Roastery cafe dengan beans berkualitas tinggi dan barista profesional.", visits: 148 },
            { id: 32, name: "Northsider Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1445116572660-236099ec97a0?w=600", rating: 4.5, location: "Jl. Veteran No. 89, Solo", phone: "0271-632111", description: "Industrial style cafe dengan menu kopi signature dan pasta yang lezat.", visits: 125 },
            { id: 33, name: "Coffee Toffee", category: "cafe", image: "https://images.unsplash.com/photo-1453614512568-c4024d13c247?w=600", rating: 4.4, location: "Solo Paragon Mall Lt. 1", phone: "0271-621333", description: "Cafe chain dengan menu lengkap dari kopi hingga rice bowl.", visits: 112 },
            { id: 34, name: "Excelso", category: "cafe", image: "https://images.unsplash.com/photo-1447933601403-0c6688de566e?w=600", rating: 4.5, location: "Solo Grand Mall Lt. 2", phone: "0271-654222", description: "Premium coffee shop dengan kopi berkualitas dan cake yang enak.", visits: 120 },
            { id: 35, name: "Anomali Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1497935586351-b67a49e012bf?w=600", rating: 4.6, location: "Jl. Monginsidi No. 45, Solo", phone: "0271-689444", description: "Kopi Indonesia terbaik dari berbagai daerah dengan cita rasa autentik.", visits: 133 },
            { id: 36, name: "Ruang Seduh", category: "cafe", image: "https://images.unsplash.com/photo-1521017432531-fbd92d768814?w=600", rating: 4.7, location: "Jl. Dr. Wahidin No. 67, Solo", phone: "0271-645888", description: "Cozy cafe dengan menu coffee signature dan homemade cake.", visits: 144 },
            { id: 37, name: "Kopi Nako", category: "cafe", image: "https://images.unsplash.com/photo-1493857671505-72967e2e2760?w=600", rating: 4.4, location: "Jl. Yos Sudarso No. 123, Solo", phone: "0271-632666", description: "Cafe dengan konsep Nusantara, kopi lokal dan snack tradisional.", visits: 108 },
            { id: 38, name: "Kopi Praja", category: "cafe", image: "https://images.unsplash.com/photo-1506619216599-9d16d0903dfd?w=600", rating: 4.5, location: "Jl. Brigjend Katamso No. 78, Solo", phone: "0271-698777", description: "Heritage cafe dengan interior klasik dan menu kopi tubruk khas.", visits: 122 },
            { id: 39, name: "Kedai Kopi Kulo", category: "cafe", image: "https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?w=600", rating: 4.6, location: "Jl. Ahmad Dahlan No. 234, Solo", phone: "0271-623888", description: "Kopi susu kekinian dengan berbagai varian rasa yang unik.", visits: 139 },
            { id: 40, name: "Jiwa Toast", category: "cafe", image: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=600", rating: 4.5, location: "Jl. Kapten Mulyadi No. 56, Solo", phone: "0271-654999", description: "Cafe dengan menu toast dan kopi yang cocok untuk breakfast.", visits: 116 },
            { id: 41, name: "Kopi Janji Jiwa", category: "cafe", image: "https://images.unsplash.com/photo-1514066558159-fc8c737ef259?w=600", rating: 4.4, location: "Jl. Letjen S. Parman No. 90, Solo", phone: "0271-643222", description: "Affordable coffee shop dengan menu andalan kopi susu mantap jiwa.", visits: 111 },
            { id: 42, name: "Fore Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1482881497185-d4a9ddbe4151?w=600", rating: 4.5, location: "Jl. Diponegoro No. 123, Solo", phone: "0271-689555", description: "Tech-enabled coffee shop dengan mobile order dan quality coffee.", visits: 128 },
            { id: 43, name: "Ngopi Doeloe", category: "cafe", image: "https://images.unsplash.com/photo-1511920170033-f8396924c348?w=600", rating: 4.3, location: "Jl. Teuku Umar No. 45, Solo", phone: "0271-621777", description: "Cafe tempo doeloe dengan suasana nostalgia dan kopi seduhan klasik.", visits: 102 },
            { id: 44, name: "Luwak Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1498804103079-a6351b050096?w=600", rating: 4.6, location: "Jl. Jend. Sudirman No. 167, Solo", phone: "0271-654111", description: "Spesialis kopi luwak dengan kualitas premium dan cita rasa istimewa.", visits: 135 },
            { id: 45, name: "Tanamera Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1472691681358-fdf00a4bfcfe?w=600", rating: 4.7, location: "Jl. Ronggowarsito No. 234, Solo", phone: "0271-632555", description: "Coffee roaster dengan beans pilihan dan manual brewing expertise.", visits: 147 },
            { id: 46, name: "Kedai Tjikini", category: "cafe", image: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=600", rating: 4.4, location: "Jl. Kolonel Sutarto No. 89, Solo", phone: "0271-645666", description: "Cafe dengan menu kopi dan makanan fusion yang instagramable.", visits: 113 },
            { id: 47, name: "Sejiwa Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1559496417-e7f25c36d20a?w=600", rating: 4.5, location: "Jl. Gatot Subroto No. 156, Solo", phone: "0271-698333", description: "Spacious cafe dengan berbagai area untuk meeting atau gathering.", visits: 124 },
            { id: 48, name: "Kopi Soe", category: "cafe", image: "https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=600", rating: 4.6, location: "Jl. Ir. Sutami No. 178, Solo", phone: "0271-623444", description: "Premium coffee dengan signature drink Kopi Susu Tetangga yang hits.", visits: 142 },
            { id: 49, name: "Urban Coffee", category: "cafe", image: "https://images.unsplash.com/photo-1442512595331-e89e73853f31?w=600", rating: 4.5, location: "Jl. Brigjend Slamet Riyadi No. 456, Solo", phone: "0271-654888", description: "Modern cafe dengan interior urban dan menu western food.", visits: 118 },
            { id: 50, name: "Kedai Kopi Espresso", category: "cafe", image: "https://images.unsplash.com/photo-1445116572660-236099ec97a0?w=600", rating: 4.7, location: "Jl. Dr. Radjiman No. 345, Solo", phone: "0271-689222", description: "Specialty cafe dengan fokus pada espresso-based drinks dan latte art.", visits: 151 }
        ];

        const allPlaces = [...restaurants, ...cafes];
        let currentPlace = null;
        let userProfile = JSON.parse(localStorage.getItem('userProfile')) || {
            name: 'Nama Pengguna',
            email: 'email@example.com',
            phone: '+62 812-3456-7890'
        };

        // Initialize
        window.addEventListener('load', () => {
            loadPlaces();
            loadBookings();
            loadProfile();
            setMinDate();
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.getElementById('themeIcon').className = 'bi bi-sun-fill';
            }
        });

        // Theme Toggle
        function toggleTheme() {
            const body = document.body;
            const icon = document.getElementById('themeIcon');
            
            if (body.classList.contains('dark-mode')) {
                body.classList.remove('dark-mode');
                icon.className = 'bi bi-moon-fill';
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.add('dark-mode');
                icon.className = 'bi bi-sun-fill';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load Places
        function loadPlaces() {
            // Sort by visits
            const sortedRestaurants = restaurants.sort((a, b) => b.visits - a.visits);
            const sortedCafes = cafes.sort((a, b) => b.visits - a.visits);
            
            // Load restaurants
            const restoList = document.getElementById('restoList');
            restoList.innerHTML = sortedRestaurants.map(place => createPlaceCard(place)).join('');
            
            // Load cafes
            const cafeList = document.getElementById('cafeList');
            cafeList.innerHTML = sortedCafes.map(place => createPlaceCard(place)).join('');
        }

        // Create Place Card
        function createPlaceCard(place) {
            return `
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="card resto-card" onclick="showDetail(${place.id})">
                        <img src="${place.image}" class="card-img-top" alt="${place.name}">
                        <div class="card-body">
                            <h6 class="card-title">${place.name}</h6>
                            <p class="text-muted small mb-2">
                                <i class="bi bi-geo-alt-fill text-primary"></i> ${place.location}
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="badge bg-warning text-dark">
                                    <i class="bi bi-star-fill rating-star"></i> ${place.rating}
                                </span>
                                <small class="text-muted">${place.visits} kunjungan</small>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Search Functionality
        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const results = allPlaces.filter(place => 
                place.name.toLowerCase().includes(query) ||
                place.location.toLowerCase().includes(query)
            );
            
            const resultsDiv = document.getElementById('searchResults');
            
            if (query === '') {
                resultsDiv.innerHTML = '<p class="text-muted text-center">Mulai ketik untuk mencari...</p>';
                return;
            }
            
            if (results.length === 0) {
                resultsDiv.innerHTML = '<p class="text-muted text-center">Tidak ditemukan</p>';
                return;
            }
            
            resultsDiv.innerHTML = results.map(place => `
                <div class="search-result-item" onclick="showDetail(${place.id}); bootstrap.Modal.getInstance(document.getElementById('searchModal')).hide();">
                    <div class="d-flex align-items-center">
                        <img src="${place.image}" style="width: 60px; height: 60px; object-fit: cover; border-radius: 10px;" class="me-3">
                        <div>
                            <h6 class="mb-0">${place.name}</h6>
                            <small class="text-muted">${place.location}</small>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Show Detail
        function showDetail(id) {
            currentPlace = allPlaces.find(p => p.id === id);
            const content = document.getElementById('detailContent');
            
            content.innerHTML = `
                <div class="card">
                    <img src="${currentPlace.image}" class="card-img-top" style="height: 300px; object-fit: cover;">
                    <div class="card-body">
                        <h3 class="card-title">${currentPlace.name}</h3>
                        <div class="mb-3">
                            <span class="badge bg-warning text-dark me-2">
                                <i class="bi bi-star-fill rating-star"></i> ${currentPlace.rating}
                            </span>
                            <span class="badge" style="background-color: var(--primary);">
                                ${currentPlace.category === 'restaurant' ? 'RESTORAN' : 'CAFE'}
                            </span>
                        </div>
                        
                        <h5 class="mt-4">Deskripsi</h5>
                        <p>${currentPlace.description}</p>
                        
                        <h5 class="mt-4">Informasi</h5>
                        <p class="mb-2">
                            <i class="bi bi-geo-alt-fill text-primary me-2"></i>
                            <strong>Alamat:</strong> ${currentPlace.location}
                        </p>
                        <p class="mb-2">
                            <i class="bi bi-telephone-fill text-primary me-2"></i>
                            <strong>Telepon:</strong> <a href="tel:${currentPlace.phone}">${currentPlace.phone}</a>
                        </p>
                        <p class="mb-4">
                            <i class="bi bi-people-fill text-primary me-2"></i>
                            <strong>Dikunjungi:</strong> ${currentPlace.visits} kali (7 hari terakhir)
                        </p>
                        
                        <button class="btn btn-primary-custom w-100" onclick="showPage('bookingFormPage')">
                            <i class="bi bi-calendar-check"></i> Buat Reservasi
                        </button>
                    </div>
                </div>
            `;
            
            showPage('detailPage');
        }

        // Set Min Date
        function setMinDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('bookingDate').min = today;
        }

        // Submit Booking
        function submitBooking(event) {
            event.preventDefault();
            
            const booking = {
                id: Date.now(),
                placeId: currentPlace.id,
                placeName: currentPlace.name,
                placeImage: currentPlace.image,
                name: document.getElementById('bookingName').value,
                date: document.getElementById('bookingDate').value,
                time: document.getElementById('bookingTime').value,
                people: document.getElementById('bookingPeople').value,
                notes: document.getElementById('bookingNotes').value,
                status: 'upcoming',
                checkInCode: generateCheckInCode(),
                createdAt: new Date().toISOString()
            };
            
            let bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            bookings.push(booking);
            localStorage.setItem('bookings', JSON.stringify(bookings));
            
            document.getElementById('bookingForm').reset();
            showBookingDetail(booking.id);
            loadBookings();
        }

        // Generate Check-in Code
        function generateCheckInCode() {
            return 'RSV' + Math.random().toString(36).substr(2, 9).toUpperCase();
        }

        // Load Bookings
        function loadBookings() {
            const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            
            const upcoming = bookings.filter(b => b.status === 'upcoming');
            const completed = bookings.filter(b => b.status === 'completed');
            const cancelled = bookings.filter(b => b.status === 'cancelled');
            
            document.getElementById('upcomingBookings').innerHTML = upcoming.length ? 
                upcoming.map(b => createBookingCard(b)).join('') : 
                '<p class="text-muted text-center">Belum ada booking</p>';
                
            document.getElementById('completedBookings').innerHTML = completed.length ? 
                completed.map(b => createBookingCard(b)).join('') : 
                '<p class="text-muted text-center">Belum ada booking selesai</p>';
                
            document.getElementById('cancelledBookings').innerHTML = cancelled.length ? 
                cancelled.map(b => createBookingCard(b)).join('') : 
                '<p class="text-muted text-center">Belum ada booking dibatalkan</p>';
        }

        // Create Booking Card
        function createBookingCard(booking) {
            const statusClass = booking.status === 'upcoming' ? 'badge-upcoming' : 
                               booking.status === 'completed' ? 'badge-completed' : 'badge-cancelled';
            const statusText = booking.status === 'upcoming' ? 'Akan Datang' : 
                              booking.status === 'completed' ? 'Selesai' : 'Dibatalkan';
            
            return `
                <div class="card mb-3" onclick="showBookingDetail(${booking.id})" style="cursor: pointer;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h6 class="card-title mb-0">${booking.placeName}</h6>
                            <span class="booking-badge ${statusClass}">${statusText}</span>
                        </div>
                        <p class="text-muted mb-1">
                            <i class="bi bi-calendar3"></i> ${formatDate(booking.date)} | ${booking.time}
                        </p>
                        <p class="text-muted mb-0">
                            <i class="bi bi-people"></i> ${booking.people} orang
                        </p>
                    </div>
                </div>
            `;
        }

        // Show Booking Detail
        function showBookingDetail(bookingId) {
            const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            const booking = bookings.find(b => b.id === bookingId);
            
            if (!booking) return;
            
            const statusClass = booking.status === 'upcoming' ? 'badge-upcoming' : 
                               booking.status === 'completed' ? 'badge-completed' : 'badge-cancelled';
            const statusText = booking.status === 'upcoming' ? 'Akan Datang' : 
                              booking.status === 'completed' ? 'Selesai' : 'Dibatalkan';
            
            const content = document.getElementById('bookingDetailContent');
            content.innerHTML = `
                <div class="card">
                    <img src="${booking.placeImage}" class="card-img-top" style="height: 200px; object-fit: cover;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <h4>${booking.placeName}</h4>
                            <span class="booking-badge ${statusClass}">${statusText}</span>
                        </div>
                        
                        <h5 class="mt-4">Detail Reservasi</h5>
                        <table class="table">
                            <tr>
                                <td><strong>Nama</strong></td>
                                <td>${booking.name}</td>
                            </tr>
                            <tr>
                                <td><strong>Tanggal</strong></td>
                                <td>${formatDate(booking.date)}</td>
                            </tr>
                            <tr>
                                <td><strong>Waktu</strong></td>
                                <td>${booking.time}</td>
                            </tr>
                            <tr>
                                <td><strong>Jumlah Orang</strong></td>
                                <td>${booking.people} orang</td>
                            </tr>
                            ${booking.notes ? `<tr><td><strong>Catatan</strong></td><td>${booking.notes}</td></tr>` : ''}
                        </table>
                        
                        <div class="text-center my-4">
                            <h6>Kode Check-in</h6>
                            <canvas id="qrCode" class="qr-code"></canvas>
                            <p class="mt-2"><strong>${booking.checkInCode}</strong></p>
                        </div>
                        
                        ${booking.status === 'upcoming' ? `
                            <button class="btn btn-danger-custom w-100" onclick="cancelBooking(${booking.id})">
                                <i class="bi bi-x-circle"></i> Batalkan Reservasi
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
            
            showPage('bookingDetailPage');
            setTimeout(() => generateQR(booking.checkInCode), 100);
        }

        // Generate QR Code
        function generateQR(text) {
            const canvas = document.getElementById('qrCode');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = 200;
            canvas.height = 200;
            
            // Simple QR-like pattern
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, 200, 200);
            
            ctx.fillStyle = '#000000';
            const size = 10;
            for (let i = 0; i < 20; i++) {
                for (let j = 0; j < 20; j++) {
                    if (Math.random() > 0.5) {
                        ctx.fillRect(i * size, j * size, size, size);
                    }
                }
            }
        }

        // Cancel Booking
        function cancelBooking(bookingId) {
            if (!confirm('Yakin ingin membatalkan reservasi ini?')) return;
            
            let bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            const index = bookings.findIndex(b => b.id === bookingId);
            
            if (index !== -1) {
                bookings[index].status = 'cancelled';
                localStorage.setItem('bookings', JSON.stringify(bookings));
                loadBookings();
                showPage('myBookingPage');
            }
        }

        // Format Date
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('id-ID', options);
        }

        // Load Profile
        function loadProfile() {
            document.getElementById('profileName').textContent = userProfile.name;
            document.getElementById('profileEmail').textContent = userProfile.email;
            document.getElementById('profilePhone').textContent = userProfile.phone;
            
            const img = document.getElementById('profileImage');
            img.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(userProfile.name)}&size=120&background=03A6A6&color=fff`;
        }

        // Show Edit Profile
        function showEditProfile() {
            document.getElementById('editName').value = userProfile.name;
            document.getElementById('editEmail').value = userProfile.email;
            document.getElementById('editPhone').value = userProfile.phone;
            
            const modal = new bootstrap.Modal(document.getElementById('editProfileModal'));
            modal.show();
        }

        // Save Profile
        function saveProfile(event) {
            event.preventDefault();
            
            userProfile.name = document.getElementById('editName').value;
            userProfile.email = document.getElementById('editEmail').value;
            userProfile.phone = document.getElementById('editPhone').value;
            
            localStorage.setItem('userProfile', JSON.stringify(userProfile));
            loadProfile();
            
            const modal = bootstrap.Modal.getInstance(document.getElementById('editProfileModal'));
            modal.hide();
            
            alert('Profile berhasil diperbarui!');
        }

        // Show Change Password
        function showChangePassword() {
            alert('Fitur ubah password akan segera hadir!');
        }

        // Show Notification Settings
        function showNotificationSettings() {
            alert('Pengaturan notifikasi akan segera hadir!');
        }

        // Show Language Settings
        function showLanguageSettings() {
            const language = prompt('Pilih bahasa:\n1. Indonesia (id)\n2. English (en)', 'id');
            if (language) {
                localStorage.setItem('language', language);
                alert('Bahasa berhasil diubah!');
            }
        }

        // Logout
        function logout() {
            if (confirm('Yakin ingin keluar?')) {
                alert('Anda telah logout!');
                // Clear some data but keep bookings
                localStorage.removeItem('userProfile');
                location.reload();
            }
        }

        // Show Page
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
        }

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `
                    const CACHE_NAME = 'reservin-v2';
                    const urlsToCache = [
                        '/',
                        '/index.html'
                    ];

                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(cache => cache.addAll(urlsToCache))
                        );
                    });

                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request)
                                .then(response => response || fetch(event.request))
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed'));
            });
        }

        // Create and inject manifest
        const manifest = {
            name: "Reservin - Reservasi Restoran Solo",
            short_name: "Reservin",
            description: "Aplikasi reservasi restoran dan cafe untuk Solo",
            start_url: "/",
            display: "standalone",
            background_color: "#ffffff",
            theme_color: "#03A6A6",
            icons: [
                {
                    src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%2303A6A6' width='100' height='100'/%3E%3Ctext x='50' y='55' font-size='50' text-anchor='middle' dy='.3em' fill='white' font-family='Poppins, Arial' font-weight='700'%3ER%3C/text%3E%3C/svg%3E",
                    sizes: "192x192",
                    type: "image/svg+xml"
                },
                {
                    src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%2303A6A6' width='100' height='100'/%3E%3Ctext x='50' y='55' font-size='50' text-anchor='middle' dy='.3em' fill='white' font-family='Poppins, Arial' font-weight='700'%3ER%3C/text%3E%3C/svg%3E",
                    sizes: "512x512",
                    type: "image/svg+xml"
                }
            ]
        };

        const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(manifestBlob);
        document.getElementById('manifest-placeholder').setAttribute('href', manifestURL);

        // Auto-slide carousel
        const carousel = new bootstrap.Carousel(document.getElementById('promoCarousel'), {
            interval: 3000,
            wrap: true
        });
    </script>
</body>
</html>